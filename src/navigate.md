# Navigating the history

````admonish reset title="Reset your progress" collapsible=true
To reset your progress to the start of this chapter, run the following command:

```sh
curl https://jj-for-everyone.github.io/reset.sh | bash -s navigate
cd ~/jj-tutorial/repo
```
````

Alice just got a text from Bob telling her that he pushed another commit.
She decides to fetch them:

```sh
jj git fetch
```

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">q</span><span class="bold highlighted dimgray ">rtwnykn</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-25 20:37:05</span><span class="bold "> </span><span class="bold highlighted blue ">c</span><span class="bold highlighted dimgray ">2f4e43e</span><span class="bold "></span>
â”‚  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
â—‹  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">vpkroku</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">push-rvpkrokuqrxt</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">b</span><span class="highlighted dimgray ">9d02faf</span>
â”‚  WIP: Add for loop (need to fix syntax)
â”‚ <span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">tqlsyyr</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">07a18a9</span>
â”œâ”€â•¯  Add submission instructions
<span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">tlxrmun</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">30ad636</span>
â”‚  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>

Bob's changes are on a different branch.
How can she get access to them?
We've already solved this problem in two different ways:
- **Merge** the two commits with a new commit that has two parents.
- **Rebase** one commit on top of the other, creating a straight line of commits.

Neither of these approaches are suitable here, because we don't want to _combine_ the changes.
We want to leave Alice's changes on a separate branch until we decide to go back to them.

The solution is to create a new commit on top of Bob's changes, i.e. the main branch.
The command to do that is:

```sh
jj new main
```

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">u</span><span class="bold highlighted dimgray ">umounxy</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-25 20:52:32</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">1bcff24</span><span class="bold "></span>
â”‚  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">tqlsyyr</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">07a18a9</span>
â”‚  Add submission instructions
â”‚ â—‹  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">vpkroku</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">push-rvpkrokuqrxt</span> <span class="bold "></span><span class="bold blue ">b</span><span class="highlighted dimgray ">9d02faf</span>
â”œâ”€â•¯  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">tlxrmun</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">30ad636</span>
â”‚  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>

We use the same command as the one for creating a merge commit, but we only specify **one** parent.
The simple act of creating a new commit allows us to achieve many different use cases.

Notice that we used to have an empty commit on top of the loop experiment commit, but that is now gone.
Jujutsu automatically deletes commits that are empty (no changes and no description).
This keeps the log tidy and recreating an empty commit is easy anyway.
It also makes `jj new` suitable for **navigating the history**.
Since empty commits have the same project state as their parent, running `jj new some_version` is a great way to explore the project at a specific version.

As an example, let's try to look at a relatively old state of our repository.
Here's the full log for reference:

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">u</span><span class="bold highlighted dimgray ">umounxy</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-25 20:52:32</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">1bcff24</span><span class="bold "></span>
â”‚  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">tqlsyyr</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">07a18a9</span>
â”‚  Add submission instructions
â”‚ â—‹  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">vpkroku</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">push-rvpkrokuqrxt</span> <span class="bold "></span><span class="bold blue ">b</span><span class="highlighted dimgray ">9d02faf</span>
â”œâ”€â•¯  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">â—†</span>    <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">tlxrmun</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">30ad636</span>
â”œâ”€â•®  <span class="green ">(empty)</span> Merge code and documentation for hello-world
â”‚ <span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">ux</span><span class="highlighted dimgray ">vvmtos</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">a9</span><span class="highlighted dimgray ">946efd</span>
â”‚ â”‚  Add Python script for greeting the world
<span class="bold "></span><span class="bold highlighted cyan ">â—†</span> â”‚  <span class="bold "></span><span class="bold purple ">qx</span><span class="highlighted dimgray ">kprvsu</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">9</span><span class="highlighted dimgray ">e05718a</span>
â”œâ”€â•¯  Document hello.py in README.md
<span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">xs</span><span class="highlighted dimgray ">swkrsu</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">69</span><span class="highlighted dimgray ">5f460b</span>
â”‚  Add project description to readme
<span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">p</span><span class="highlighted dimgray ">xvxmtks</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:36:59</span> <span class="bold "></span><span class="bold blue ">20c</span><span class="highlighted dimgray ">6a3b1</span>
â”‚  Add readme with project title
<span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zzzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">00</span><span class="highlighted dimgray ">000000</span>
</pre>

Assume we want to look at the commit with the description "Document hello.py in README.md".
We could easily do that with it's change ID, i.e. `jj new qxkprvsu`.
To make this more interesting, we'll learn one more way to identify commits:
with the `description()` function.
It tells Jujutsu to select the commit that matches the description.

```sh
jj new 'description("Document hello.py in README.md")'
```

Don't forget the outer single quotes, they prevent your terminal from interpreting the inner double quotes.
There is a powerful system behind selecting commits with functions like that, which we'll learn about in the future.

Let's confirm our maneuver by checking the log:

<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">u</span><span class="bold highlighted dimgray ">xuqnppz</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-25 21:16:00</span><span class="bold "> </span><span class="bold highlighted blue ">a</span><span class="bold highlighted dimgray ">bba4830</span><span class="bold "></span>
â”‚  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
â”‚ <span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">tqlsyyr</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">07a18a9</span>
â”‚ â”‚  Add submission instructions
â”‚ â”‚ â—‹  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">vpkroku</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">push-rvpkrokuqrxt</span> <span class="bold "></span><span class="bold blue ">b</span><span class="highlighted dimgray ">9d02faf</span>
â”‚ â”œâ”€â•¯  WIP: Add for loop (need to fix syntax)
â”‚ <span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">tlxrmun</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">30ad636</span>
â•­â”€â”¤  <span class="green ">(empty)</span> Merge code and documentation for hello-world
â”‚ â”‚
â”‚ ~
â”‚
<span class="bold "></span><span class="bold highlighted cyan ">â—†</span>  <span class="bold "></span><span class="bold purple ">q</span><span class="highlighted dimgray ">xkprvsu</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">9</span><span class="highlighted dimgray ">e05718a</span>
â”‚  Document hello.py in README.md
~
</pre>

Great!
We created a commit on top of an old one from our history.
The file `hello.py` didn't exist at that time, which you can confirm by running `ls`.

Let's go back to the state of the main branch, to get a clean state for the next chapter:

```sh
jj new main
```

Alright, so Alice now has the latest changes from Bob and can continue to do other work.
She can always come back to her loop experiment later with `jj new`, finish the work and then combine it with the main branch.

```admonish success title="You've completed Level 2 ! ðŸŽ‰"
Now you have the basic skills to collaborate on projects with other people.
Let's summarize what we've learned:
- A branching history is normal when multiple people work together.
- You can combine changes from a branched history by creating a **merge** commit or by **rebasing** one branch of commits on another.
- Files which do not belong in version control can be excluded with `.gitignore` and\
  `jj file untrack`.
- Work-in-progress changes can be stored on the remote with additional bookmarks, avoiding chaos on the main branch.
- You can navigate to any branch or past version of your repository with `jj new`.

It's time to take a break from this tutorial and practice what you've learned on a real project.
Level 3 will teach you how to **solve everyday problems** like merge conflicts, so I recommend you come back for it relatively soon.
```
