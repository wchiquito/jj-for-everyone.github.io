<!DOCTYPE HTML>
<html lang="en" class="latte sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Jujutsu for everyone</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="A Jujutsu tutorial that requires no previous experience with Git or other version control systems.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/mdbook-admonish.css">
        <link rel="stylesheet" href="theme/catppuccin.css">
        <link rel="stylesheet" href="theme/catppuccin-admonish.css">
        <link rel="stylesheet" href="theme/aha_styles.css">
        <link rel="stylesheet" href="theme/mdbook-admonish-custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "latte";
            const default_dark_theme = "macchiato";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>‚Üê</kbd> or <kbd>‚Üí</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('latte')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frappe</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jujutsu for everyone</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/jj-for-everyone/jj-for-everyone.github.io" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>This is a tutorial for the <a href="https://github.com/jj-vcs/jj">Jujutsu</a> version control system.
It requires <strong>no previous experience with Git</strong> or any other version control system.</p>
<p>At the time of writing, most Jujutsu tutorials are targeted at experienced Git users, teaching them how to transfer their existing Git skills over to Jujutsu.
This tutorial is my attempt to fill the void of beginner learning material for Jujutsu.
If you are already experienced with Git, I recommend <a href="https://steveklabnik.github.io/jujutsu-tutorial">Steve Klabnik's tutorial</a> instead of this one.</p>
<p>This tutorial requires you to work in the terminal.
Don't worry, there's a chapter covering some terminal basics in case you're not 100% comfortable with that yet.
The commands I tell you to run will often only work on Unix-like operating systems like Linux and Mac.
If you're stuck on Windows, consider using <a href="https://learn.microsoft.com/en-us/windows/wsl/install">WSL</a>.</p>
<h2 id="what-is-version-control-and-why-should-you-use-it"><a class="header" href="#what-is-version-control-and-why-should-you-use-it">What is version control and why should you use it?</a></h2>
<p>I will assume you're using version control for software development, but it can be used for other things as well.
For example, authoring professionally formatted documents with tools like <a href="https://typst.app/">Typst</a>.
The source of this tutorial is stored in version control too!</p>
<p>What these scenarios have in common is that a large body of work (mostly in the form of text) is slowly being expanded and improved over time.
You don't want to lose any of it and you want to be able to go back to previous states of your work.
Often, several people need to work on the project at the same time.</p>
<p>A general-purpose backup solution can keep a few copies of your files around.
A graphical document editor can allow multiple people to edit the text simultaneously.
But sometimes, you need a sharper knife.
Jujutsu is the sharpest knife available.</p>
<h2 id="why-jujutsu-instead-of-git"><a class="header" href="#why-jujutsu-instead-of-git">Why Jujutsu instead of Git?</a></h2>
<p>Git is by far the most commonly used VCS in the software development industry.
So why not use that?
Using the most popular thing has undeniable benefits.
There is lots of learning material, lots of people can help you with problems, lots of other tools integrate with it etc.
Why make life harder on yourself by using a lesser-known alternative?</p>
<p>Here's my elevator pitch:</p>
<ul>
<li>
<p><strong>Jujutsu is compatible with Git.</strong>
You're not actually losing <em>anything</em> by using Jujutsu.
You can work with it on any existing project that uses Git for version control without issues.
Tools that integrate with Git mostly work just as well with Jujutsu.</p>
</li>
<li>
<p><strong>Jujutsu is easier to learn than Git.</strong>
(That is, assuming I did a decent job writing this tutorial.)
Git is known for its complicated, unintuitive user interface.
Jujutsu gives you all the functionality of Git with a lot less complexity.
Experienced users of Git usually don't care about this, because they've paid the price of learning Git already.
(I was one of these people once.)
But you care!</p>
</li>
<li>
<p><strong>Jujutsu is more powerful than Git.</strong>
Despite the fact that it's easier to learn and more intuitive, it actually has loads of awesome capabilities for power users that completely leave Git in the dust.
Don't worry, you don't have to use that power right away.
But you can be confident that if your VCS-workflow becomes more demanding in the future, Jujutsu will have your back.
This is not a watered-down "we have Git at home" for slow learners!</p>
</li>
</ul>
<p>Learning Jujutsu instead of Git as your first VCS does have some downsides:</p>
<ul>
<li>
<p>When talking about version control with peers, they will likely use Git-centric vocabulary.
Jujutsu shares a lot of Git's concepts, but there are also differences.
Translating between the two in conversation can add some mental overhead.
(solution: convince your peers to use Jujutsu üòâ)</p>
</li>
<li>
<p>Jujutsu is relatively new and doesn't cover 100% of the features of Git yet.
When you do run into the rare problem where Jujutsu doesn't have an answer, you can always fall back to use Git directly, which works quite seamlessly.
Still, having to use two tools instead of one is slightly annoying.
I plan to teach such Git features in this tutorial in later levels.
The tutorial should be a one-stop-shop for all Jujutsu users.</p>
</li>
<li>
<p>The command line interface of Jujutsu is not yet stable.
That means in future versions of Jujutsu, some commands might work a little differently or be renamed.
I personally don't think this should scare you away.
Many people including me have used Jujutsu as a daily driver for a long time.
Whenever something <em>did</em> change, my reaction was usually:
"Great, that was one of the less-than-perfect parts of Jujutsu! Now it's even more intuitive than before!"
Consider <a href="watch_releases.html">subscribing to GitHub releases of this tutorial</a>.
You will be notified if new versions of Jujutsu change something in a way that's relevant to what you learned in this tutorial.</p>
</li>
</ul>
<p>Despite some downsides, I think the benefits are <strong>well worth it</strong>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-read-this-tutorial"><a class="header" href="#how-to-read-this-tutorial">How to read this tutorial</a></h1>
<p>Here's some information about how the tutorial is structured.
Read carefully for the best experience.</p>
<h2 id="level-up"><a class="header" href="#level-up">Level up!</a></h2>
<p>The tutorial is split into <strong>levels</strong>, which define the hierarchy in the sidebar.
When you complete a level, you should probably put this tutorial away for a while and practice what you've learned.
Once you're comfortable with those skills, come back for the next level.</p>
<p>There is one exception to this:
If you're here because you need to collaborate with other people, you should complete the levels 1 and 2 right away.</p>
<p>Here's an overview of the available levels:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Level</th><th>Description</th></tr></thead><tbody>
<tr><td style="text-align: center"><strong>1</strong></td><td>The bare minimum to get started. Enough for solo-projects like submitting homework as a student.</td></tr>
<tr><td style="text-align: center"><strong>2</strong></td><td>The bare minimum for collaboration, e.g. students doing a group project or software engineers working in a team.</td></tr>
<tr><td style="text-align: center"><strong>3</strong></td><td>Important problem-solving skills: undoing mistakes, resolving merge conflicts, restoring files from history.</td></tr>
</tbody></table>
</div>
<p>More levels are planned.
The following chapter explains how to get notified about new content.</p>
<h2 id="reset-your-progress-at-any-time"><a class="header" href="#reset-your-progress-at-any-time">Reset your progress at any time</a></h2>
<p>Throughout the tutorial, you will build an example repository.
Later chapters depend on the state of previous ones.
But don't be afraid to mess up or lose your progress by experimenting!</p>
<p>There is a script which automates the task of resetting your progress to the <strong>start of any chapter</strong>.</p>
<p>To identify the chapter you want to continue with, the script expects a keyword as an argument.
Each chapter includes its precise reset command at the top, so you can easily copy-paste it.
For example, the text box below contains instructions to reset your progress to the very beginning of the tutorial:</p>
<div id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<div class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="structure.html#admonition-reset-your-progress"></a>
</div>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s install
</code></pre>
</div>
</div>
<p>This method downloads the script from the internet and executes it right away.
If you have security concerns about that, you can instead:</p>
<ol>
<li>Download the script <a href="./reset.sh">here</a>.</li>
<li>Read the source to make sure it's safe.
It's not doing anything complicated, it just executes the commands of the tutorial in sequence.</li>
<li>Run the downloaded script (with the chapter-keyword as the first argument).</li>
</ol>
<p>For convenience, the source of the script is also included in the expandable text box below.</p>
<details id="admonition-source-of-reset-script" class="admonition admonish-note" role="note" aria-labelledby="admonition-source-of-reset-script-title">
<summary class="admonition-title">
<div id="admonition-source-of-reset-script-title">
<p>Source of reset script</p>
</div>
<a class="admonition-anchor-link" href="structure.html#admonition-source-of-reset-script"></a>
</summary>
<div>
<pre><code class="language-sh">#!/usr/bin/env bash
set -euxo pipefail

red='\033[0;31m'
blue='\033[0;34m'
no_color='\033[0m' # No Color

error="${red}Error:${no_color}"
hint="${blue}Hint:${no_color}"

if [ "${1:-x}" = "x" ] ; then
    set +x
    printf "$error Please provide the chapter keyword as the first argument.\n"
    exit 1
fi
chapter="$1"

function success() {
    set +x
    echo "‚úÖ Reset script completed successfully! ‚úÖ"
    exit 0
}

rm -rf ~/jj-tutorial

if [ "$chapter" = install ] ; then success ; fi

if ! command -v jj &gt; /dev/null ; then
    set +x
    printf "$error Jujutsu doesn't seem to be installed.\n"
    printf "       Please install it and rerun the script.\n"
    exit 1
fi

# make sure jj version is recent enough
detected_version="$(jj --version | cut -c 6-7)"
required_version="33"
if [ "$detected_version" -lt "$required_version" ] ; then
    set +x
    printf "$error Your Jujutsu version (0.$detected_version) is too outdated.\n"
    printf "       Please update to version 0.$required_version or later.\n"
    printf "$hint If you installed Jujutsu with mise, as recommended in the installation\n"
    printf "      chapter, use the following commands to update:\n"
    echo "
mise install-into jujutsu@latest /tmp/jj-install
mv /tmp/jj-install/jj ~/.local/bin
rm -rf /tmp/jj-install"
    exit 1
fi

# Make sure user configured git.colocate = true
if [ "$(jj config get git.colocate)" != "true" ] ; then
    set +x
    printf "$error Your configuration of git.colocate is not set to true.\n"
    printf "       This will become the default in Jujutsu version 0.33, so don't worry"
    printf "       about having a non-standard configuration."
    printf "       Please run the following command:\n"
    echo "
jj config set --user git.colocate true"
    exit 1
fi

# Ensure existing user configuration does not affect script behavior.
tmp_config=/tmp/jj_for_everyone_reset_script_config.toml
echo "git.colocate = true" &gt; $tmp_config
trap 'rm $tmp_config' EXIT
export JJ_CONFIG=$tmp_config

if [ "$chapter" = initialize ] ; then success ; fi

mkdir ~/jj-tutorial
jj git init ~/jj-tutorial/repo
cd ~/jj-tutorial/repo

jj config set --repo user.name "Alice"
jj config set --repo user.email "alice@local"
jj metaedit --update-author

if [ "$chapter" = log ] ; then success ; fi

if [ "$chapter" = make_changes ] ; then success ; fi

echo "# jj-tutorial" &gt; README.md
jj log -r 'none()' # trigger snapshot

if [ "$chapter" = commit ] ; then success ; fi

jj commit --message "Add readme with project title

It's common practice for software projects to include a file called
README.md in the root directory of their source code repository. As the
file extension indicates, the content is usually written in markdown,
where the title of the document is written on the first line with a
prefixed \`#\` symbol.
"

if [ "$chapter" = remote ] ; then success ; fi

git init --bare ~/jj-tutorial/remote
jj git remote add origin ~/jj-tutorial/remote
jj bookmark create main --revision @-
jj git push --bookmark main --allow-new

if [ "$chapter" = update_bookmark ] ; then success ; fi

printf "\nThis is a toy repository for learning Jujutsu.\n" &gt;&gt; README.md
jj commit -m "Add project description to readme"

jj bookmark move main --to @-

jj git push

if [ "$chapter" = clone ] ; then success ; fi

cd ~
rm -rf ~/jj-tutorial/repo
jj git clone ~/jj-tutorial/remote ~/jj-tutorial/repo
cd ~/jj-tutorial/repo
jj config set --repo user.name "Alice"
jj config set --repo user.email "alice@local"
jj metaedit --update-author

if [ "$chapter" = github ] ; then success ; fi

if [ "$chapter" = branch ] ; then success ; fi

echo "print('Hello, world!')" &gt; hello.py

jj commit -m "Add Python script for greeting the world

Printing the text \"Hello, world!\" is a classic exercise in introductory
programming courses. It's easy to complete in basically any language and
makes students feel accomplished and curious for more at the same time."

jj git clone ~/jj-tutorial/remote ~/jj-tutorial/repo-bob
cd ~/jj-tutorial/repo-bob
jj config set --repo user.name Bob
jj config set --repo user.email bob@local
jj metaedit --update-author

echo "# jj-tutorial

The file hello.py contains a script that greets the world.
It can be executed with the command 'python hello.py'.
Programming is fun!" &gt; README.md
jj commit -m "Document hello.py in README.md

The file hello.py doesn't exist yet, because Alice is working on that.
Once our changes are combined, this documentation will be accurate."

jj bookmark move main --to @-
jj git push

cd ~/jj-tutorial/repo
jj bookmark move main --to @-
jj git fetch

if [ "$chapter" = show ] ; then success ; fi

if [ "$chapter" = merge ] ; then success ; fi

jj new main@origin @-

jj commit -m "Merge code and documentation for hello-world"
jj bookmark move main --to @-
jj git push

if [ "$chapter" = ignore ] ; then success ; fi

cd ~/jj-tutorial/repo-bob

tar czf submission_alice_bob.tar.gz README.md

echo "
## Submission

Run the following command to create the submission tarball:

~~~sh
tar czf submission_alice_bob.tar.gz [FILE...]
~~~" &gt;&gt; README.md

echo "*.tar.gz" &gt; .gitignore

jj file untrack submission_alice_bob.tar.gz

jj commit -m "Add submission instructions"

if [ "$chapter" = rebase ] ; then success ; fi

jj bookmark move main --to @-
jj git fetch
jj rebase --destination main@origin
jj git push

if [ "$chapter" = more_bookmark ] ; then success ; fi

cd ~/jj-tutorial/repo

echo "for (i = 0; i &lt; 10; i = i + 1):
    print('Hello, world!')" &gt; hello.py

jj commit -m "WIP: Add for loop (need to fix syntax)"

jj git push --change @-

if [ "$chapter" = navigate ] ; then success ; fi

jj git fetch
jj new main
jj new 'description("Document hello.py in README.md")'
jj new main

if [ "$chapter" = undo ] ; then success ; fi

echo "print('Hallo, Welt!')" &gt;&gt; hello.py
echo "print('Bonjour, le monde!')" &gt;&gt; hello.py

jj commit -m "code improvements"

jj undo

jj commit -m "Print German and French greetings as well"

jj undo
jj undo
jj undo

jj redo
jj redo
jj redo

if [ "$chapter" = track ] ; then success ; fi

cd ~ # move out of the directory we're about to delete
rm -rf ~/jj-tutorial/repo
jj git clone ~/jj-tutorial/remote ~/jj-tutorial/repo
cd ~/jj-tutorial/repo

# roleplay as Alice
jj config set --repo user.name "Alice"
jj config set --repo user.email "alice@local"
jj metaedit --update-author

echo "print('Hallo, Welt!')" &gt;&gt; hello.py
echo "print('Bonjour, le monde!')" &gt;&gt; hello.py
jj commit -m "Print German and French greetings as well"

jj bookmark move main -t @-
jj git push

jj bookmark track 'glob:push-*@origin'

if [ "$chapter" = conflict ] ; then success ; fi

jj new 'description("WIP: Add for loop")'

echo "for _ in range(10):
    print('Hello, world!')" &gt; hello.py

jj commit -m "Fix loop syntax"

jj new main @-

echo "for _ in range(10):
    print('Hello, world!')
    print('Hallo, Welt!')
    print('Bonjour, le monde!')" &gt; hello.py

jj commit -m "Merge repetition and translation of greeting"
jj bookmark move main --to @-
jj git push

if [ "$chapter" = abandon ] ; then success ; fi

jj commit -m "Experiment: Migrate to shiny new framework"
jj git push --change @-
jj new main
jj commit -m "Experiment: Improve scalability using microservices"
jj git push --change @-
jj new main
jj commit -m "Experiment: Apply SOLID design patterns"
jj git push --change @-
jj new main

jj abandon 'description("Experiment")'

jj git push --deleted

if [ "$chapter" = restore ] ; then success ; fi

rm README.md
jj show &amp;&gt; /dev/null

jj restore README.md

jj restore --from 'description("Fix loop syntax")' hello.py

jj commit -m "Remove translations"
jj bookmark move main --to @-
jj git push

if [ "$chapter" = complete ] ; then success ; fi

set +x
echo "Error: Didn't recognize the chapter keyword: '$chapter'."
exit 1
</code></pre>
</div>
</details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stay-up-to-date"><a class="header" href="#stay-up-to-date">Stay up to date</a></h1>
<p>Both this tutorial and Jujutsu are still evolving.
In order to keep your Jujutsu knowledge up-to-date, <strong>subscribe to releases of the tutorial's GitHub repo</strong>.
You'll get an email from GitHub whenever I post a release, which basically allows me to send you notifications.</p>
<p>I'm planning to post releases for two reasons in particular:</p>
<ol>
<li>I finished writing a new level.</li>
<li>A new version of Jujutsu includes changes that are relevant to readers of this tutorial.</li>
</ol>
<p>To subscribe: Visit the <a href="https://github.com/jj-for-everyone/jj-for-everyone.github.io">GitHub repo</a>, click on "Watch", then "Custom" and lastly select "Releases".</p>
<p><img src="./watch_releases.png" alt="screenshot of how to subscribe to release announcements" /></p>
<p>The following levels are planned for the future:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Level</th><th>Description</th></tr></thead><tbody>
<tr><td style="text-align: center"><strong>4</strong></td><td>History rewriting skills. These will allow you to iterate toward a polished version history, which pays dividends long-term. Some projects require you to have these skills in order to meet their quality standards.</td></tr>
<tr><td style="text-align: center"><strong>5</strong></td><td>Productivity boosters, advanced workflows, lesser-known CLI functions and a little VCS theory. Completing this level means you have mastered Jujutsu.</td></tr>
<tr><td style="text-align: center"><strong>6</strong></td><td>Additional topics that only come up in specific situations: tags, submodules, workspaces etc. Consider skimming the list of topics and come back once you have an actual need for it.</td></tr>
</tbody></table>
</div>
<p>I consider the tutorial up-to-date with Jujutsu <strong>version 0.33</strong>, which was released in <strong>September 2025</strong>.
If that's more than a couple months in the past, I probably stopped updating this tutorial.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="help-make-this-tutorial-better"><a class="header" href="#help-make-this-tutorial-better">Help make this tutorial better</a></h1>
<p>If you find a typo, you can suggest a fix directly by clicking on the "edit" icon in the top-right corner.
If you have general suggestions for improvement, please <a href="https://github.com/jj-for-everyone/jj-for-everyone.github.io/issues/new">open an issue</a>.
I am also very interested in experience reports, for example:</p>
<ul>
<li>Do you have any frustrations with Jujutsu which the tutorial did not help you overcome?</li>
<li>Was there a section that wasn't explained clearly?
(If you didn't understand something, it's probably the tutorial's fault, not yours!)</li>
<li>Did you complete a level but didn't feel like you had the skills that were promised in the level overview?</li>
<li>Is there something missing that's not being taught but should?</li>
<li>Do you feel like the content could be structured better?</li>
</ul>
<p>Thank you for helping me improve this tutorial!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="terminal-basics"><a class="header" href="#terminal-basics">Terminal basics</a></h1>
<p>This chapter is not about Jujutsu or even version control.
But the tutorial requires you to work in the terminal, so let's cover the basics.
If you're already comfortable in the terminal, you can confidently skip this chapter.</p>
<p>There are a lot of small things to cover, so here's a little table of contents:</p>
<!--toc:start-->
<ul>
<li><a href="terminal_basics.html#what-is-the-terminal">What is the terminal?</a></li>
<li><a href="terminal_basics.html#the-prompt">The prompt</a></li>
<li><a href="terminal_basics.html#entering-commands">Entering commands</a></li>
<li><a href="terminal_basics.html#the-current-working-directory">The current working directory</a></li>
<li><a href="terminal_basics.html#copy-pasting-commands">Copy-pasting commands</a></li>
<li><a href="terminal_basics.html#redirection">Redirection</a></li>
<li><a href="terminal_basics.html#pagers">Pagers</a></li>
<li><a href="terminal_basics.html#variables-and-the-environment">Variables and the environment</a></li>
<li><a href="terminal_basics.html#the-path-variable">The <code>PATH</code> variable</a></li>
<li><a href="terminal_basics.html#startup-scripts">Startup scripts</a></li>
</ul>
<!--toc:end-->
<h2 id="what-is-the-terminal"><a class="header" href="#what-is-the-terminal">What is the terminal?</a></h2>
<p>The terminal is an application that lets you enter commands to the operating system in the form of text.
The commands usually produce text themselves, which will be displayed to you.</p>
<p>The terminal used to be the primary way people interact with a computer.
That was before the time of graphical user interfaces.
Today, the terminal works much the same as it did in the past, but it's inside a normal app window now.
The app can have different names, but "Terminal" and "Console" or variations thereof are most common.</p>
<h2 id="the-prompt"><a class="header" href="#the-prompt">The prompt</a></h2>
<p>When you start the terminal, the initial text you will see is called the <strong>prompt</strong>.
Whenever a command finishes running, the prompt will be shown again.
That's your sign that you can start entering your next command.
Here's an example of what a prompt can look like:</p>
<pre><code>[username@hostname ~]$
</code></pre>
<p>This shows some information that'll be useful later, but don't worry about it for now.
The prompt usually ends with a dollar <strong><code>$</code></strong> or percent <strong><code>%</code></strong> sign, so you can easily recognize it.
The dollar sign is often used as a short representation of the prompt.</p>
<h2 id="entering-commands"><a class="header" href="#entering-commands">Entering commands</a></h2>
<p>Being presented with the prompt is our cue to execute commands, so let's do that.
Type the following and then press <kbd>Enter</kbd>:</p>
<pre><code class="language-sh">echo Hello, terminal!
</code></pre>
<p>The terminal will split your commands into words based on whitespace.
The above command has three words:</p>
<ul>
<li><code>echo</code></li>
<li><code>Hello,</code></li>
<li><code>terminal!</code></li>
</ul>
<p>The first word is the program to run.
The terminal will find a program called <code>echo</code> on your computer and run it with the two <strong>arguments</strong> <code>Hello,</code> and <code>terminal!</code>.
The program is free to interpret these arguments however it wants.
The program called <code>echo</code> happens to simply print its arguments back to the terminal:</p>
<pre><code class="language-console">$ echo Hello, terminal!
Hello, terminal!
</code></pre>
<h2 id="the-current-working-directory"><a class="header" href="#the-current-working-directory">The current working directory</a></h2>
<p>One deeply fundamental concept of the terminal is the <strong>current working directory</strong>.
It's a location in your filesystem, the one "where you currently are".</p>
<p>Most commands you run behave differently based on this "current location".
Because of that, we need to be able to change it.
The command to do that is called <code>cd</code>, short for "change directory".
You probably have a folder called "Downloads", but you can substitute a different one in this example:</p>
<pre><code class="language-console">[username@hostname ~]$ cd Downloads
[username@hostname Downloads]$
</code></pre>
<p>Oh!
Did you notice that <strong>the prompt changed</strong>?
The current working directory, or CWD for short, is so important that it's usually shown somewhere in the prompt.
That way you always know "where you are".</p>
<p>Before running <code>cd</code> in the example above, the CWD was apparently the tilde <strong><code>~</code></strong> character.
That's a shorthand for your user's <strong>home directory</strong>.
On Linux, that's <code>/home/username</code>.
Another way to determine your CWD is to call the command <code>pwd</code>, short for "print working directory".
It expands the shorthand tilde <strong><code>~</code></strong> character to its full path.</p>
<pre><code>[username@hostname Downloads]$ pwd
/home/username/Downloads
[username@hostname Downloads]$
</code></pre>
<p>One example of a CWD-aware command is <code>ls</code>, which lists files and directories.
Go ahead and run <code>ls</code> in your <code>Downloads</code> folder.
Maybe it's time to clean it up a little...?</p>
<p>The important lesson to take away here is:
<strong>Be aware of your current working directory</strong>.
If a command doesn't do what you want, you might just be in the wrong place.</p>
<h2 id="copy-pasting-commands"><a class="header" href="#copy-pasting-commands">Copy-pasting commands</a></h2>
<p>This tutorial contains many code blocks that contain commands for you to copy-paste into your terminal.
Multiple commands can be on separate lines and you can copy-paste them all at once without issues.
If you hover your mouse over the top-right corner of a code block, a hidden copy-button will appear.
Very useful!</p>
<p>For historical reasons, <kbd>Ctrl</kbd>+<kbd>C</kbd> and <kbd>Ctrl</kbd>+<kbd>V</kbd> don't do copy and paste in the terminal.
Instead, you need to use <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>C</kbd>/<kbd>V</kbd> respectively.
If you're using a Mac, <kbd>Command</kbd>+<kbd>C</kbd>/<kbd>V</kbd> works normally.</p>
<p>If you forget about this and type <kbd>Ctrl</kbd>+<kbd>V</kbd> without <kbd>Shift</kbd> in an attempt to paste a command into the terminal, it will actually get messed up a little.
You can't just try again with <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>V</kbd>.
You would end up with something like this:</p>
<pre><code class="language-console">$ ^[[200~echo Hello, terminal!~
</code></pre>
<p>These weird characters are an "escape sequence" caused by typing <kbd>Ctrl</kbd>+<kbd>V</kbd> without <kbd>Shift</kbd>.
This command will not work.
So, if you make the mistake of forgetting <kbd>Shift</kbd>, just hit <kbd>Enter</kbd> a couple of times until you get a fresh prompt, then try again.</p>
<p>Some of the commands will contain <strong>comments</strong>, which are lines of text following a pound <strong><code>#</code></strong> character.
The terminal simply ignores them.
They are used to make commands more understandable to human readers, but they don't affect the command execution.</p>
<p>You can practice by copy-pasting the following command into your terminal:</p>
<pre><code class="language-sh"># Here are some example comments:
#
# This is the program being run.
# |
# |  This is the start of the first argument.
# |  |
# |  |      This is the start of the second argument.
# v  v      v
echo Hello, terminal! # Placing a comment next to a command is also allowed.
</code></pre>
<h2 id="redirection"><a class="header" href="#redirection">Redirection</a></h2>
<p>We've seen how the <code>echo</code> command prints its arguments back to the terminal.
But that's just the default.
<code>echo</code> just prints to something called "standard out", or "stdout".
That is usually connected to your terminal.
But you can also <strong>redirect</strong> the stdout of a program, for example to a file with the <code>&gt;</code> operator.
An example looks like this:</p>
<pre><code class="language-sh">echo "bread, onions, tea" &gt; groceries.txt
</code></pre>
<p>In this book, I will often tell you to manipulate a file by running a command that looks like the one above.</p>
<p>The <code>&gt;</code> operator <em>overwrites</em> a file, but there is also the <code>&gt;&gt;</code> operator, which <em>appends</em> to the end of a file.</p>
<h2 id="pagers"><a class="header" href="#pagers">Pagers</a></h2>
<p>Some commands you run in the terminal print a lot of text.
It can be tedious to scroll all the way back up to the point where the command output started.
This is where a <strong>pager</strong> can help.
It takes the output from another program shows it to you from the beginning.</p>
<p>Some programs will display their output in a pager automatically, because they know they will be printing a lot of text.
Jujutsu also does that sometimes.
Given that you may "accidentally" end up in a pager, you need to know that you can <strong>exit a pager by typing</strong> <kbd>q</kbd>!</p>
<p>If the output of Jujutsu is displayed in a pager, the bottom left corner will be a colon <code>:</code> character and your prompt won't be shown.
One way you can experiment with using a pager is by running <code>man tar</code>, which opens the manual page for the <code>tar</code> command.</p>
<p>Various key bindings let you navigate in the pager.
The arrow keys, "page up" and "page down" all work as expected.
Another super useful one is this:
Typing <kbd>/</kbd> allows you to enter a search term, then <kbd>Enter</kbd> starts the search.
Step through the search hits with (lowercase) <kbd>n</kbd> and step backwards with (uppercase) <kbd>N</kbd>.</p>
<h2 id="variables-and-the-environment"><a class="header" href="#variables-and-the-environment">Variables and the environment</a></h2>
<p>Running programs on your computer by typing their name is only scratching the surface of what the terminal can do.
It actually has a whole little programming / scripting language built-in.
For example, you can store values in variables with the equal <strong><code>=</code></strong> sign and evaluate them with the dollar <strong><code>$</code></strong> sign:</p>
<pre><code class="language-console">$ my_name=Alice
$ echo Hello, $my_name!
Hello, Alice!
</code></pre>
<p>Normal variables like above cannot be read by programs you run.
They are only for your own use in the current terminal session.
However, variables can be <strong>exported</strong> into the <strong>environment</strong>, which makes them accessible for programs to read.
This is an alternative way to tell programs what you want them to do.
The more common way is with arguments on the command line, but exported variables are useful in some situations.</p>
<p>You can export a variable separately from setting its value or do it all in one line:</p>
<pre><code class="language-sh">MY_NAME=Alice
export MY_NAME
</code></pre>
<pre><code class="language-sh">export MY_NAME=Alice
</code></pre>
<p>Such exported variables are usually referred to as <strong>environment variables</strong>.
They are not <em>required</em> to be uppercase, but it's a strong convention.
It makes it easy to know which variables can be read by other programs.</p>
<h2 id="the-path-variable"><a class="header" href="#the-path-variable">The <code>PATH</code> variable</a></h2>
<p>One environment variable that can be difficult to understand at first is the <code>PATH</code> variable.
First, let's print it to see what it contains:</p>
<pre><code class="language-console">$ echo $PATH
/home/username/.local/bin:/usr/local/bin:/usr/bin
</code></pre>
<p>Your output may well look different, but the structure is the same:
It's a list of filesystem paths separated by the colon <strong><code>:</code></strong> character.
In this case, there are three paths:</p>
<ul>
<li><code>/home/username/.local/bin</code></li>
<li><code>/usr/local/bin</code></li>
<li><code>/usr/bin</code></li>
</ul>
<p>What do these three paths mean?
They are the places where your terminal searches for programs to run!
Let's mess with it to see what happens.
Set the <code>PATH</code> variable to the empty string:</p>
<pre><code class="language-sh">export PATH=""
</code></pre>
<p>Now try to run a program, like <code>ls</code> for example:</p>
<pre><code class="language-console">$ ls
bash: ls: No such file or directory
</code></pre>
<p>Oops.
Setting the <code>PATH</code> variable to the empty string tells the terminal to <em>not search for programs anywhere</em>.
Therefore, the programs <code>ls</code> cannot be found anymore.</p>
<p>We could fix this by copy-pasting the previous value of <code>PATH</code> and export that again.
But if you mess up the value of an environment variable for real, you often don't know what the previous, correct value was.
So it's easiest to just close the terminal window and open a new one.
All variables will be reset to their default.</p>
<p>So, if modifying the <code>PATH</code> variable can break your session, should you just never touch it?
Not quite.
Sometimes you want (or need) to install programs in a different location than where your terminal searches for them by default.
In that case, you need to <em>extend</em> the list of paths stored in the <code>PATH</code> variable.
Here's an example:</p>
<pre><code class="language-sh">export PATH="/home/username/my-local-programs:$PATH"
</code></pre>
<p>This starts with a new path at the front of the list, then there's the colon <strong><code>:</code></strong> separator and lastly the rest of the list, which is the previous value stored in <code>PATH</code>.</p>
<h2 id="startup-scripts"><a class="header" href="#startup-scripts">Startup scripts</a></h2>
<p>The above command to edit the <code>PATH</code> variable will only affect the current terminal session.
So, if you close the terminal and reopen a new window, the value of <code>PATH</code> will be reset to its default.
But that may not be desirable.
If you install programs into a custom location, you may want all your future terminal sessions to find those programs automatically.</p>
<p>That's where startup scripts come into play.
They are files containing a list of commands (also known as <strong>scripts</strong>).
<em>Startup</em> scripts are automatically executed whenever you open a new terminal, before you can even type the first command.
So that's the perfect place to make permanent changes to all your future terminal sessions!</p>
<p>The location and name of your startup script depend on your <strong>shell</strong>, i.e. your specific "flavor" of terminal.
The terminal is pretty standardized, so we mostly don't need to worry about different shells.
This is an exception.
If you're using Linux, your shell is probably called <code>bash</code>.
If you're using Mac, your shell is probably called <code>zsh</code>.
To find out for sure, you can read the <code>SHELL</code> environment variable:</p>
<pre><code class="language-console">$ echo $SHELL
/bin/bash
</code></pre>
<p>If your shell is <code>bash</code>, you should add your custom startup commands to the file <strong><code>~/.bashrc</code></strong>.
In the case of <code>zsh</code>, the startup script is <strong><code>~/.zshrc</code></strong>.</p>
<p>For now, print the content of your startup script.
It's probably complicated, so don't try to understand it all.
Nevertheless, taking a look is a great way to get acquainted with the terminal:</p>
<pre><code class="language-sh"># for bash
cat ~/.bashrc
</code></pre>
<pre><code class="language-sh"># for zsh
cat ~/.zshrc
</code></pre>
<div id="admonition-now-you-know-the-basics-of-the-terminal--" class="admonition admonish-success" role="note" aria-labelledby="admonition-now-you-know-the-basics-of-the-terminal---title">
<div class="admonition-title">
<div id="admonition-now-you-know-the-basics-of-the-terminal---title">
<p>Now you know the basics of the terminal ! üéâ</p>
</div>
<a class="admonition-anchor-link" href="terminal_basics.html#admonition-now-you-know-the-basics-of-the-terminal--"></a>
</div>
<div>
<p>If most of this stuff was news to you, pat yourself on the back!
You've already learned a lot.
This should be enough knowledge about the terminal to get you through the tutorial.</p>
<p>Don't hesitate to come back here and revise from time to time.
The rules of the terminal are not the most intuitive, so it can take a couple attempts for them to settle in.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="level-1"><a class="header" href="#level-1">Level 1</a></h1>
<p>This level will provide you with the bare minimum of skills you need to get work done.
It's only enough for the simplest use cases and you're working on your own.
For example, students who track and submit their homework with a Git repository won't need more than this.</p>
<p>The following "cheat sheet" contains the most important commands from level 1.
Use it to prime your brain before getting started and remind yourself later when you forget something.</p>
<div id="admonition-cheat-sheet" class="admonition admonish-info" role="note" aria-labelledby="admonition-cheat-sheet-title">
<div class="admonition-title">
<div id="admonition-cheat-sheet-title">
<p>cheat sheet</p>
</div>
<a class="admonition-anchor-link" href="level_1.html#admonition-cheat-sheet"></a>
</div>
<div>
<p>Configure your authorship information</p>
<pre><code class="language-sh">jj config set --user user.name "Alice"
jj config set --user user.email "alice@local"
</code></pre>
<p>Initialize a repository</p>
<pre><code class="language-sh">jj git init &lt;DESTINATION&gt;
</code></pre>
<p>Clone an existing repository</p>
<pre><code class="language-sh">jj git clone &lt;PATH_OR_URL&gt; &lt;DESTINATION&gt;
</code></pre>
<p>Commit the changes you made</p>
<pre><code class="language-sh">jj commit
</code></pre>
<p>Push your latest commit to the "main" bookmark</p>
<pre><code class="language-sh">jj bookmark move main --to @-
jj git push
</code></pre>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation-and-setup"><a class="header" href="#installation-and-setup">Installation and setup</a></h1>
<p>There are many ways to install Jujutsu and the best one depends on your system.
If you don't care at all about how Jujutsu is installed, you can copy-paste these commands:</p>
<pre><code class="language-sh">curl https://mise.run | sh
~/.local/bin/mise install-into jujutsu@latest /tmp/jj-install
mv /tmp/jj-install/jj ~/.local/bin
rm -rf /tmp/jj-install
exec $SHELL --login
</code></pre>
<p>Now run <code>jj --version</code> to verify the installation.
It should print the currently installed version of Jujutsu, something like <code>jj 0.33.0-blabla</code>.
If the output is an error instead, e.g. <code>bash: jj: command not found...</code>, open the text box below.</p>
<details id="admonition-jj-command-not-found" class="admonition admonish-failure" role="note" aria-labelledby="admonition-jj-command-not-found-title">
<summary class="admonition-title">
<div id="admonition-jj-command-not-found-title">
<p>jj: command not found...</p>
</div>
<a class="admonition-anchor-link" href="install.html#admonition-jj-command-not-found"></a>
</summary>
<div>
<p>Your system probably doesn't add the installation directory <code>~/.local/bin</code> to the <code>PATH</code> environment variable.
To fix that, you first need to figure out what shell you're using:</p>
<pre><code class="language-sh">echo $SHELL
</code></pre>
<p>The output should end with either "bash", or "zsh".
That's your shell.
Next, put a command adding <code>~/.local/bin</code> to your <code>PATH</code> variable into your shell's startup script:</p>
<pre><code class="language-sh"># for bash:
echo 'export PATH=$HOME/.local/bin:$PATH' &gt;&gt; ~/.bashrc
</code></pre>
<pre><code class="language-sh"># for zsh:
echo 'export PATH=$HOME/.local/bin:$PATH' &gt;&gt; ~/.zshrc
</code></pre>
<p>Lastly, close the terminal and open a new one so the changes take effect.</p>
</div>
</details>
<details id="admonition-explanation-of-installation-commands" class="admonition admonish-note" role="note" aria-labelledby="admonition-explanation-of-installation-commands-title">
<summary class="admonition-title">
<div id="admonition-explanation-of-installation-commands-title">
<p>Explanation of installation commands</p>
</div>
<a class="admonition-anchor-link" href="install.html#admonition-explanation-of-installation-commands"></a>
</summary>
<div>
<p>Installing software is more difficult than one might think.
It depends on many factors like CPU architecture and operating system.
That's why there's not a single, easy command we can run to install Jujutsu on any system.
Instead, we first install another program that specializes in installing software called <code>mise</code>.
(You can read more about mise on <a href="https://mise.jdx.dev/">its website</a>.)
The first command <code>curl https://mise.run | sh</code> downloads and runs a script from the internet that installs <code>mise</code> for you.
This is kind of dangerous and you should be careful when executing scripts from the internet.
People could place malicious commands in the script you're downloading.
But it's a convenient technique if you trust the owner of the website you're loading the script from.</p>
<p>The second command runs <code>mise</code> to download Jujutsu into a temporary directory.
We have to specify the full path to the <code>mise</code> binary (<code>~/.local/bin/mise</code>), because at this point we don't know if <code>~/.local/bin</code> is included in your <code>PATH</code> variable.
(See the <a href="./terminal_basics.html#the-path-variable">"Terminal basics" chapter</a> for an explanation of that.)
<code>mise</code> takes care of downloading the right binary for your operating system and CPU architecture.</p>
<p>The following command moves the downloaded binary to <code>~/.local/bin</code>, which is the customary place for user-local programs.
<code>rm -rf /tmp/jj-install</code> ("remove recursive force") deletes the temporary download directory and its content.</p>
<p>Lastly, <code>exec $SHELL --login</code> restarts your shell, which causes its startup scripts to run again.
Some Linux distributions like Ubuntu only add <code>~/.local/bin</code> to the <code>PATH</code> variable if that directory exists when the terminal is started.
So, restarting the terminal after installing Jujutsu is a simple way to make sure the system will find the new program.</p>
<p>Maybe there are distributions which don't add <code>~/.local/bin</code> to <code>PATH</code> <strong>at all</strong>, which would mean those commands don't work on such a system.
I'm not aware of such distributions.
(Please <a href="https://github.com/jj-for-everyone/jj-for-everyone.github.io/issues/new">open an issue</a> if you know of a relevant one!)
You can fix such an issue for yourself by extending the <code>PATH</code> variable in your <a href="http://localhost:3210/terminal_basics.html#startup-scripts">shell startup script</a>.</p>
</div>
</details>
<details id="admonition-other-installation-methods" class="admonition admonish-info" role="note" aria-labelledby="admonition-other-installation-methods-title">
<summary class="admonition-title">
<div id="admonition-other-installation-methods-title">
<p>Other installation methods</p>
</div>
<a class="admonition-anchor-link" href="install.html#admonition-other-installation-methods"></a>
</summary>
<div>
<p>The official installation instructions for several different platforms are <a href="https://jj-vcs.github.io/jj/latest/install-and-setup/">here</a>.
I will mention a few methods that I consider important as well.</p>
<p>If you use <a href="https://github.com/cargo-bins/cargo-binstall">cargo-binstall</a>, this works great:</p>
<pre><code class="language-sh">cargo-binstall jj-cli
</code></pre>
<p>If you're a Mac &amp; Homebrew user, this one's for you:</p>
<pre><code class="language-sh">brew install jj
</code></pre>
<p>If you have the Rust toolchain installed and would like to compile from source, you can run:</p>
<pre><code class="language-sh">cargo install --locked --bin jj jj-cli
</code></pre>
<p>You can also download a binary directly from Jujutsu's <a href="https://github.com/jj-vcs/jj/releases/latest">release page</a>.
Scroll down to "Assets", there is a list of archives to download.
The right one depends on two things: your operating system and your CPU architecture.
Look for the strings matching your system in the names of the archives.</p>
<p>How to identify your operating system:</p>
<div class="table-wrapper"><table><thead><tr><th>operating system</th><th>string to look for</th></tr></thead><tbody>
<tr><td>Linux</td><td>unknown-linux-musl</td></tr>
<tr><td>Mac</td><td>apple-darwin</td></tr>
<tr><td>Windows</td><td>pc-windows-msvc</td></tr>
</tbody></table>
</div>
<p>How to identify your CPU architecture:</p>
<div class="table-wrapper"><table><thead><tr><th>CPU brand</th><th>string to look for</th></tr></thead><tbody>
<tr><td>Intel</td><td>x86_64</td></tr>
<tr><td>AMD</td><td>x86_64</td></tr>
<tr><td>Apple</td><td>aarch64</td></tr>
<tr><td>ARM</td><td>aarch64</td></tr>
<tr><td>Qualcom (Snapdragon)</td><td>aarch64</td></tr>
</tbody></table>
</div>
<p>Once you have downloaded the right archive, you need to extract it.
You should be able to right-click on the downloaded archive in your file explorer and select "extract" or something similar in the drop-down.
The extracted folder will contain documentation and a file called "jj".
You need to move that into the directory <code>~/.local/bin/</code>.
(Or another location where you keep your programs if you know what you're doing.)</p>
</div>
</details>
<h2 id="initial-configuration"><a class="header" href="#initial-configuration">Initial configuration</a></h2>
<p>Jujutsu is very configurable, but we don't care about most knobs and dials right now.
The only thing that you <strong>must</strong> configure is your name and email.
This is required metadata and some things won't work right without this information.
However, you don't have to enter your <em>real</em> name and email, in case you're not comfortable storing that information in the repositories you're planning to work on.</p>
<p>If you're working on school or work projects, it's probably fine to configure your real name and school / work email.
These repositories are usually not publicly accessible.</p>
<p>If you're planning to work on open source projects that anyone can see, you may want to be more careful.
You could use your GitHub handle as username, but many are comfortable using their real name too.
The email address is more important.
If you use your normal, private email address, there is a risk of receiving undesirable emails at that address.
You might consider using a dedicated address just for open source work.
Another alternative is to use an address provided by GitHub.
It identifies your GitHub account, but you cannot receive emails through it.
Go to <a href="https://github.com/settings/emails">GitHub's email settings</a> and select "Keep my email address private", your private email address will then be shown at the top.</p>
<p>Here are the commands to configure your username and email:</p>
<pre><code class="language-sh">jj config set --user user.name "Anonymous"
jj config set --user user.email "anon@local"
</code></pre>
<p>If you want shell completions, follow the instructions <a href="https://jj-vcs.github.io/jj/latest/install-and-setup/#command-line-completion">here</a>.
If you don't know what a "shell completion" is, don't worry, it's not important.</p>
<div id="admonition-two-flavors-of-repositories" class="admonition admonish-info" role="note" aria-labelledby="admonition-two-flavors-of-repositories-title">
<div class="admonition-title">
<div id="admonition-two-flavors-of-repositories-title">
<p>Two flavors of repositories</p>
</div>
<a class="admonition-anchor-link" href="install.html#admonition-two-flavors-of-repositories"></a>
</div>
<div>
<p>Jujutsu can create repositories in two slightly different flavors: "colocated" and "non-colocated".
For newcomers like you, the "colocated" flavor is the better choice.
Run the following command to configure it as the default:</p>
<pre><code class="language-sh">jj config set --user git.colocate true
</code></pre>
<p>I won't explain the difference, it doesn't matter to you.
Colocated repos will become the default in Jujutsu version 0.34 anyway, at which point I can just remove this info box.</p>
</div>
</div>
<h2 id="installing-a-simple-text-editor"><a class="header" href="#installing-a-simple-text-editor">Installing a simple text editor</a></h2>
<p>Jujutsu will sometimes ask you to edit a text file.
The default text editor used for that purpose is <code>nano</code> on Linux and Mac.
It works fine, but it can be counter-intuitive for new users.
(<kbd>Ctrl+O</kbd> is saving the file and <kbd>Ctrl+X</kbd> is closing the program.)</p>
<p>This is optional, but I recommend you install a text editor called <a href="https://github.com/microsoft/edit">edit</a>.
I consider it to be the simplest and most intuitive alternative.
If you installed Jujutsu with <code>mise</code> (as suggested above) you can also install <code>edit</code> the same way:</p>
<pre><code class="language-sh">mise install-into edit@latest /tmp/edit-install
mv /tmp/edit-install/edit ~/.local/bin
rm -rf /tmp/edit-install
</code></pre>
<p>If you installed Jujutsu using another method, you'll want to install <code>edit</code> on your own as well.</p>
<p>Next, we need to configure Jujutsu to use <code>edit</code> when opening a text file:</p>
<pre><code class="language-sh">jj config set --user ui.editor edit
</code></pre>
<p>From now on, when Jujutsu opens a text file for you, it will do so using <code>edit</code>.
When you're done editing a file, click on "File", then "Exit", in the menu bar or press <kbd>Ctrl+Q</kbd> to exit the text editor.
It will ask you if you want to save the file, which you confirm by pressing <kbd>Enter</kbd>.
That's it!
I will remind you how it works the first time we need it.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="initializing-a-repository"><a class="header" href="#initializing-a-repository">Initializing a repository</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="initialize.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s initialize
</code></pre>
</div>
</details>
<p>A "repository" is a directory (folder) where Jujutsu keeps track of all files, including the ones in subdirectories.
A repository usually corresponds to a project, so the version history of unrelated projects are not tied to each other.
In this tutorial, we'll use <code>~/jj-tutorial/repo</code> as the location of our repository.
Don't put it somewhere else, otherwise some commands I tell you to run won't work later.
(If you don't like the clutter in your home directory, you can always delete it and use the <a href="./how_to_read.html#reset-your-progress">reset script</a> when you continue with the tutorial.)</p>
<p>The command to initialize a new repository is <code>jj git init &lt;DESTINATION&gt;</code>.
We use <code>cd</code> to change our working directory to the new repository.
Copy-paste these commands into your terminal:</p>
<pre><code class="language-sh">mkdir ~/jj-tutorial
jj git init ~/jj-tutorial/repo
cd ~/jj-tutorial/repo
</code></pre>
<p>Let's examine our first <code>jj</code> command.
<code>git</code> is the subcommand responsible for various Git-specific compatibility features.
One of them is the <code>init</code> command, which initializes a new repository that's compatible with Git.</p>
<p>What does "initializing a repository" mean?
Essentially, Jujutsu creates two directories <code>.git</code> and <code>.jj</code>.
These contain all information about the version history.
Why two directories?
The <code>.git</code> directory contains all the important stuff, stored in a way that is compatible with Git.
The <code>.jj</code> directory contains additional metadata which enable some of Jujutsu's advanced features.</p>
<div id="admonition-warning" class="admonition admonish-warning" role="note" aria-labelledby="admonition-warning-title">
<div class="admonition-title">
<div id="admonition-warning-title">
<p>Warning</p>
</div>
<a class="admonition-anchor-link" href="initialize.html#admonition-warning"></a>
</div>
<div>
<p>You should never manipulate files in these directories directly!
Their content is a well-structured database.
If you corrupt the database format, the repository might become broken.
We'll talk about a second layer of backup in the <a href="./remote.html">chapter about remotes</a>.</p>
</div>
</div>
<p>Files and directories starting with a dot are hidden by default, but you can verify they were created with <code>ls -a</code>:</p>
<pre><code class="language-console">$ ls -a
.git  .jj
</code></pre>
<p>In the previous chapter, you configured Jujutsu with your name and email address.
This configuration applies to all of your repositories by default.
However, for our example repository, we'll actually pretend to be "Alice", who is later joined by "Bob" to simulate collaboration.
The below commands perform the author configuration only for this specific repo.
There's no need to memorize these commands, they are normally not needed.</p>
<pre><code class="language-sh"># applies configuration to a single repository only
#             vvvvvv
jj config set --repo user.name "Alice"
jj config set --repo user.email "alice@local"

# reset already recorded global authorship information:
jj metaedit --update-author
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inspecting-the-state-of-a-repository"><a class="header" href="#inspecting-the-state-of-a-repository">Inspecting the state of a repository</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="log.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s log
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>So, now we've got an empty repository.
Let's take a closer look at it.
The command <code>jj log</code> shows you a visual representation of your version history.
If you run it, you should see something like this:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">m</span><span class="bold highlighted dimgray ">kmqlnox</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 20:15:56</span><span class="bold "> </span><span class="bold highlighted blue ">f</span><span class="bold highlighted dimgray ">6feaadf</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zzzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">0</span><span class="highlighted dimgray ">0000000</span>
</pre>
<p>There's a lot going on already, so let's unpack it one-by-one.
In the leftmost column, there's an <code>@</code>, a line and a diamond.
The <code>@</code> sign represents the present state of the files in the repository, also known as the "working copy".
The diamond indicates an earlier state and the line connecting them means one state descends from another.
Older states are at the bottom and more recent ones are at the top.
In this case, the diamond is the "root", an empty state from which all others descend.
It always exists and cannot be modified.</p>
<p>Allow me to introduce a little bit of VCS-lingo.
Until now, I've used the word "state" to refer to the "working copy" (<code>@</code> sign) and the "root" (diamond).
These states are snapshots of your repository, storing all files in the repo and their content.
The technical term for these snapshots is <strong>commit</strong>.
The commit is the most important data structure in the repository and I will use that term from now on.</p>
<p>So what's going on to the right of the first column?
That's all important metadata about your commits.
Let's look at the one of the working copy commit:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold highlighted purple ">m</span><span class="bold highlighted dimgray ">kmqlnox</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 20:15:56</span><span class="bold "> </span><span class="bold highlighted blue ">f</span><span class="bold highlighted dimgray ">6feaadf</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
</pre>
<p>The first word is <code>mkmqlnox</code>, a random-looking identification number called the <strong>change ID</strong>.
Next is the email address you previously configured, indicating that you are the author of this commit.
After that is a timestamp, indicating when the commit was created.
Last on the first line is another random looking word <code>f6feaadf</code>.
It's also an identification number, but this one is called the <strong>commit hash</strong> or commit ID.
The change ID is more important than the commit hash, which is reflected in their position in the log output: the important one comes first.
We'll discuss the purpose of these IDs in more detail later.</p>
<p>Note that in the example output I provide in this tutorial, the change IDs and timestamps are not always consistent.
While writing the tutorial, I go back and forth, changing stuff and recreating my example repository.
This causes change IDs and timestamps to change.</p>
<p>On the second line, the word "(empty)" indicates that none of the files in this commit were changed compared to the previous commit.
Lastly, "(no description set)" is self-explanatory and foreshadows the possibility of giving descriptions to commits.</p>
<p>Even though the repository is empty at this point, we already get a decent understanding of what a repository is.
It consist of a set of <strong>commits</strong> which are related to each other, where one commit is said to be the <strong>parent</strong> or the <strong>child</strong> of another.
These commits store snapshots of the state of your files, as well as relevant metadata like authorship, timestamp and description.</p>
<h2 id="getting-help-about-using-jujutsu"><a class="header" href="#getting-help-about-using-jujutsu">Getting help about using Jujutsu</a></h2>
<p>We've now used two of Jujutsu's commands: <code>jj git init</code> and <code>jj log</code>.
There are <em>a lot</em> of commands and flags to modify their behavior.
I will introduce everything you need, but sometimes you may need to refresh your mind.
It can also just be valuable to explore on your own.</p>
<p>You can <strong>pass the <code>--help</code> flag to any command</strong> to view contextual documentation.
For example, <code>jj --help</code> will show you the full list of top-level commands that Jujutsu supports.
<code>jj log --help</code> will show you specific information about how to use the <code>log</code> command, i.e. how to modify its behavior according to your needs.</p>
<p>These help pages will feel overwhelming at first.
But something always sticks, even if you don't notice at first.
If you keep coming back, you will soon become very efficient at finding relevant information this way.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="making-changes"><a class="header" href="#making-changes">Making changes</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="make_changes.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s make_changes
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Your primary goal is always to work on a project, Jujutsu just helps you manage your work.
So let's pretend we're doing some actual work by putting stuff in a file:</p>
<pre><code class="language-sh">echo "# jj-tutorial" &gt; README.md
</code></pre>
<p>When you change files in a directory tracked by Jujutsu, what you're conceptually doing is modifying the working copy commit.
Let's see what <code>jj log</code> has to say now:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">m</span><span class="bold highlighted dimgray ">kmqlnox</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 20:19:25</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">21958c2</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold yellow ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zzzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">0</span><span class="highlighted dimgray ">0000000</span>
</pre>
<p>A couple of things have changed:</p>
<ul>
<li>The timestamp of the commit was updated.</li>
<li>The commit hash changed.
That's one of the reasons the commit hash is less interesting, it changes every time anything else in the commit changes.</li>
<li>The commit is not "(empty)" anymore!</li>
</ul>
<p>The last point means that our new file was successfully recorded in the working copy commit.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-new-commit"><a class="header" href="#creating-a-new-commit">Creating a new commit</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="commit.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s commit
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Once we are done with a set of changes, we should create a new commit.
If we don't do that, the next changes we make will be recorded into the same commit as the previous ones.
That would make it harder to understand the evolution of a project later.</p>
<p>Before we create a new commit, we also need to give a description to the one we've been working on so far.
Every commit needs to have a description, even if it's a short one.</p>
<p>So, there are conceptually two things we need to do now:</p>
<ol>
<li>Give a description to the changes we just finished making, the ones that were recorded in the existing working-copy (<code>@</code>) commit.</li>
<li>Start working on a completely new commit, which is the child of the one we just finished.</li>
</ol>
<details id="admonition-a-source-of-confusion-if-you-know-git" class="admonition admonish-note" role="note" aria-labelledby="admonition-a-source-of-confusion-if-you-know-git-title">
<summary class="admonition-title">
<div id="admonition-a-source-of-confusion-if-you-know-git-title">
<p>A source of confusion if you know Git</p>
</div>
<a class="admonition-anchor-link" href="commit.html#admonition-a-source-of-confusion-if-you-know-git"></a>
</summary>
<div>
<p>This tutorial assumes that you have no experience with Git.
However, if you <em>have</em> used Git before, it might actually be more difficult for you to understand this.
The reason is that both Git and Jujutsu have a subcommand called <code>commit</code>, but they work differently.</p>
<p>In Git, changes you make are not recorded automatically into commits.
Instead, they exist outside of any commit, until you add them to one manually.
The command <code>git commit</code> creates a commit containing the new changes as well as the new commit message.</p>
<p>In Jujutsu, there is always a commit already and any changes you make are automatically recorded into it.
So, the description you type during <code>jj commit</code> will be applied to a commit that has already existed for some time.
The <em>new</em> commit that's being created is completely empty and has no description.
It's ready for auto-recording of the upcoming changes you will be making.</p>
</div>
</details>
<p>The command to complete both oft these tasks at once is:</p>
<pre><code class="language-sh">jj commit
</code></pre>
<p>This will open a text editor so you can write a description for the commit.
If you followed my instructions during <a href="install.html#installing-a-simple-text-editor">installation and setup</a>, the text editor will be <code>edit</code>.
When you're done writing the description, click on "File", then "Exit", in the menu bar or press <kbd>Ctrl+Q</kbd> to exit the text editor.
Confirm that you want to save the file by pressing <kbd>Enter</kbd>.</p>
<p>You may notice that the text file doesn't start empty.
It already contains a few lines:</p>
<pre><code>JJ: This commit contains the following changes:
JJ:     A README.md
JJ:
JJ: Lines starting with "JJ:" (like this one) will be removed.
</code></pre>
<p>These lines starting with <code>JJ:</code> are <em>comments</em>, similar to lines starting with a pound <code>#</code> in the terminal.
They will not be part of the final commit description, so you don't need to delete them.
Jujutsu uses these comments to remind you which files you modified when working on this commit.
That can be helpful inspiration for a good commit description.</p>
<p>Here's an example description you could type (or copy-paste) into the text editor:</p>
<pre><code>Add readme with project title

It's common practice for software projects to include a file called
README.md in the root directory of their source code repository. As the
file extension indicates, the content is usually written in markdown,
where the title of the document is written on the first line with a
prefixed `#` symbol.
</code></pre>
<p>There is a little bit of structure here that you should follow.
The first line of the description is called the <strong>subject</strong>.
Sometimes the subject line is all you need, but to describe your changes in more detail, you can follow it up with a <strong>body</strong>.
Subject and body are <strong>separated by an empty line</strong>.
Both of them should <strong>not exceed 72 characters</strong> per line.</p>
<p>Commit messages are important, because they make it easier for you and others to understand the changes and their motivation later on.
This importance lies on a spectrum:
The more people work on a project and the longer-lived it is, the more important good commit messages become.
For example, the Linux kernel is a multi-decade project with thousands of people working on it together.
Linux developers put a lot of thought and effort into good commit messages.
On the other extreme of the spectrum may be a student's repository for storing the homework of a single lecture.
The project is over within a couple of months and there is little chance of the student ever digging into the history, let alone anyone else.
That student probably won't invest much time into good commit messages.</p>
<details id="admonition-more-tips-for-good-commit-messages" class="admonition admonish-info" role="note" aria-labelledby="admonition-more-tips-for-good-commit-messages-title">
<summary class="admonition-title">
<div id="admonition-more-tips-for-good-commit-messages-title">
<p>More tips for good commit messages</p>
</div>
<a class="admonition-anchor-link" href="commit.html#admonition-more-tips-for-good-commit-messages"></a>
</summary>
<div>
<p>Here are some additional conventions that are good practice for any type of project.</p>
<p><strong>Try to keep the subject line below 50 characters</strong><br />
While 72 characters is the hard limit, the subject line usually benefits from being as concise as possible.
It is shown in many places where space is scarce and people want to get a general idea of your changes without reading too much.
If you find yourself exceeding 50 characters regularly, you may be combining multiple unrelated changes into a single commit.
If you put unrelated changes into separate commits, finding concise subject lines becomes easier.
However, there are often situations where 50 characters is just too restrictive, so don't worry about going above when necessary.</p>
<p><strong>Use imperative mood in the subject line</strong><br />
A common instinct when writing commit messages it to describe what you did in the <strong>past tense</strong>, e.g. "Fixed bugs and improved code".
Another one is to describe the <strong>content</strong> of the commit, e.g. "bug fixes and code improvements".
Instead, write the subject line as if <strong>giving a command or instruction</strong>, e.g. "Fix bugs and improve code".
A simple rule of thumb is that the subject should complete the sentence "If applied, this commit will...".
The resulting history will be more natural to read.
Note that this primarily applies to the subject, the style of the body can be more flexible.</p>
<p><strong>Put yourself in the shoes of the reader</strong><br />
The target audience for your commit messages are future readers of the project history.
They are trying to understand <strong>what</strong> your changes did and <strong>why</strong>.
They can always read the content changes directly for <strong>how</strong> they did that, so the ideal commit message should complement that.
Great candidates include information that's not present in the content itself as well as guidance to understand the changes more quickly.</p>
</div>
</details>
<p>Let's see the result of running <code>jj commit</code> with <code>jj log</code>:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">p</span><span class="bold highlighted dimgray ">wpuwyto</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 20:22:36</span><span class="bold "> </span><span class="bold highlighted blue ">3</span><span class="bold highlighted dimgray ">5de496a</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">m</span><span class="highlighted dimgray ">kmqlnox</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 20:20:34</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">b79353a</span>
‚îÇ  Add readme with project title
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zzzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">0</span><span class="highlighted dimgray ">0000000</span>
</pre>
<p>There are a few things to observe here:</p>
<ul>
<li>The new commit is a child of our previous working copy commit.</li>
<li>The previous commit shows the subject line of the description we gave it.</li>
<li>The new commit became our working copy, meaning any further file changes will be recorded into the new commit.</li>
<li>The previous commit is marked with <code>git_head()</code>.
This marker is not important and you can ignore it.</li>
<li>The previous commit has a different symbol (circle <code>‚óã</code>) than the root commit (diamond <code>‚óÜ</code>).
This is related to an important feature, which we'll learn about later.</li>
</ul>
<p>We now have the tools for the most basic version control workflow:</p>
<ol>
<li>make some changes</li>
<li>create a new commit</li>
</ol>
<p>Repeating these two steps is what you'll do the most, when working on a version-controlled project.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sending-commits-to-a-remote"><a class="header" href="#sending-commits-to-a-remote">Sending commits to a remote</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="remote.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s remote
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>We now have a commit which we don't want to lose.
The way we're using Jujutsu right now, we don't have a backup at all.
What would happen if we delete the <code>~/jj-tutorial/repo</code> directory on disk?
The <code>.git</code> and <code>.jj</code> subdirectories would be deleted as well.
Since our entire version control database is stored in there, we wouldn't be able to recover any of our work!</p>
<p>We can fix that by duplicating our commit at another location, a so-called <strong>remote</strong>.
Besides providing a backup, sending commits to a remote also allows you to share your work more easily for collaboration.</p>
<p>The most popular form of a remote is to host a repository with an online service like <a href="https://github.com/">GitHub</a>.
That requires an account and a little setup though, so we'll use a simpler approach in this tutorial.
Your remote will be stored in a new directory on your computer, at a different location than your primary repository.
That style of remote is bad as a backup and bad for collaboration, but it's perfect for learning how remotes work.
There are a few practical tips about using GitHub in a <a href="github.html">later chapter</a>.</p>
<h2 id="initializing-the-remote"><a class="header" href="#initializing-the-remote">Initializing the remote</a></h2>
<p>The following command will initialize a new repository for use as a remote:</p>
<pre><code class="language-sh">git init --bare ~/jj-tutorial/remote # initialize "remote" ("bare") repository
</code></pre>
<p>Since you will likely use a different style of remote for real projects, you don't need to understand the details here.
If you're curious anyway, expand the text box below.</p>
<details id="admonition-the-difference-between-remote-bare-and-regular-repositories" class="admonition admonish-note" role="note" aria-labelledby="admonition-the-difference-between-remote-bare-and-regular-repositories-title">
<summary class="admonition-title">
<div id="admonition-the-difference-between-remote-bare-and-regular-repositories-title">
<p>The difference between remote (bare) and regular repositories</p>
</div>
<a class="admonition-anchor-link" href="remote.html#admonition-the-difference-between-remote-bare-and-regular-repositories"></a>
</summary>
<div>
<p><code>git init --bare</code> is very similar to <code>jj git init</code>, which we used to create our main repository.
However, instead of a "normal" repository, it creates a "bare" one.
But what's the difference?</p>
<p>Think of a regular repository as consisting of two parts: (1) Jujutsu's internal database stored in the <code>.git</code> and <code>.jj</code> directories and (2) all the actual files of your project, which you can modify - your <strong>working copy</strong>.
The term "copy" is key here, because all the files are also stored in the internal database.
The only reason a copy of the files exists outside the database is so you can read and modify them - "work" with them.
So, "working copy" is a fitting name indeed.</p>
<p>A bare repository is a regular repository <strong>without a working copy</strong>.
Since we will only use the remote repository for sending and receiving commits, we don't need a working copy.</p>
<p>If you inspect the content of the new bare repository, it will look very similar in structure to the content of the <code>.git</code> directory in our main repository:</p>
<pre><code>ls -lah ~/jj-tutorial/repo/.git
ls -lah ~/jj-tutorial/remote
</code></pre>
</div>
</details>
<h2 id="connecting-to-a-remote"><a class="header" href="#connecting-to-a-remote">Connecting to a remote</a></h2>
<p>A repository is connected to a remote by storing its location under a specific name.
Remotes can be called anything, but when there is only one, the convention is to call it <strong>origin</strong>:</p>
<pre><code class="language-sh">jj git remote add origin ~/jj-tutorial/remote
</code></pre>
<p>Here we connect to the remote by specifying its path on our filesystem.
When using a repository hosted on GitHub or similar services, the path is replaced with a URL.
More on that later.
If everything went well, <code>origin</code> should now appear in the list of remotes:</p>
<pre><code class="language-sh">jj git remote list
</code></pre>
<h2 id="adding-a-bookmark"><a class="header" href="#adding-a-bookmark">Adding a bookmark</a></h2>
<p>There is one last speed bump before we can send our work to the remote.
Remote repositories can receive a lot of commits, not all of which end up being needed in the long run.
Therefore, it's desirable that commits which aren't needed anymore can be deleted automatically.
How does the remote know which commits to delete and which to keep?
With bookmarks!</p>
<p>A bookmark is a simple named label that's attached to a commit.
Every commit with such a bookmark label is considered important and won't be deleted automatically.
Because of that mechanism, a bookmark is <em>required</em> for sending commits to a remote.</p>
<p>Let's create a bookmark called <strong>main</strong> and point it to our completed commit.
The name "main" is a convention that represents the primary state of the project.
In legacy projects, the name "master" is also still in widespread use.</p>
<pre><code class="language-sh">jj bookmark create main --revision mkmqlnox # &lt;- substitute your change ID here
</code></pre>
<p>The command <code>jj bookmark create</code> expects a name (<code>main</code>) and a commit to which the bookmark should point.
We identify the commit by its change ID (<code>--revision mkmqlnox</code>).
The flag <code>--revision</code> can also be abbreviated as <code>-r</code>.
Let's check the result with <code>jj log</code>:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">p</span><span class="bold highlighted dimgray ">wpuwyto</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 20:22:36</span><span class="bold "> </span><span class="bold highlighted blue ">3</span><span class="bold highlighted dimgray ">5de496a</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">m</span><span class="highlighted dimgray ">kmqlnox</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 20:20:34</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">b79353a</span>
‚îÇ  Add readme with project title
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zzzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">0</span><span class="highlighted dimgray ">0000000</span>
</pre>
<p>Great!
We can see that the bookmark <code>main</code> is correctly pointing to our recently completed commit.</p>
<h2 id="pushing-the-bookmark"><a class="header" href="#pushing-the-bookmark">Pushing the bookmark</a></h2>
<p>Now that we're connected and have a bookmark, let's finally send our commit to the remote.
The technical term for sending commits is "pushing" them.
You will often hear phrases like "pushing to the remote" or "pushing to GitHub".
The command for pushing a specific bookmark is:</p>
<pre><code class="language-sh">jj git push --bookmark main --allow-new
</code></pre>
<p>Because <code>jj git push</code> can also be used to update existing bookmarks, it requires the additional flag <code>--allow-new</code> or <code>-N</code> to push completely new ones.
This safety measure prevents you from pushing bookmarks you intended to remain local.</p>
<p>Many people find this safety measure annoying.
The Jujutsu contributors are aware of this and a better solution is being worked on.
If you want, you can disable it with the following command:</p>
<pre><code class="language-sh">jj config set --user git.push-new-bookmarks true
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="updating-bookmarks"><a class="header" href="#updating-bookmarks">Updating bookmarks</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="update_bookmark.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s update_bookmark
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>We have learned how to push a new bookmark to a remote for the first time.
We <em>could</em> do that for every single commit we create and want to push to the remote.
However, that would lead to a lot of unnecessary bookmarks lying around.
A real mess!</p>
<p>Thankfully, there's a better way.
Instead of creating a new bookmark every time, we can <strong>move</strong> an existing bookmark so it points to another commit.</p>
<p>To try it out, we first need to create a new commit.
You can just copy these commands:</p>
<pre><code class="language-sh">printf "\nThis is a toy repository for learning Jujutsu.\n" &gt;&gt; README.md
jj commit -m "Add project description to readme"
</code></pre>
<p>The above command uses a neat trick.
If you already have a short description in mind, you can pass it directly to <code>jj commit</code> with the <code>-m</code> flag (short for <code>--message</code>).
This can be faster than opening a separate text editor.</p>
<p><code>jj log</code> shows us a new commit on top of the one we pushed to the remote:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">z</span><span class="bold highlighted dimgray ">zywylnt</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 20:36:38</span><span class="bold "> </span><span class="bold highlighted blue ">4</span><span class="bold highlighted dimgray ">8708b9f</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">k</span><span class="highlighted dimgray ">xqyrwux</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 20:36:38</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">6</span><span class="highlighted dimgray ">ca38e90</span>
‚îÇ  Add project description to readme
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">m</span><span class="highlighted dimgray ">kmqlnox</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 20:25:40</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">7</span><span class="highlighted dimgray ">939d4cf</span>
‚îÇ  Add readme with project title
~
</pre>
<p>Now we can send this new commit to the remote by first pointing the bookmark at it and then pushing the bookmark again.
Let's start by moving the bookmark:</p>
<pre><code class="language-sh">jj bookmark move main --to @-
</code></pre>
<p>We could've told Jujutsu where to move the bookmark using the change ID, i.e. <code>--to kxqyrwux</code>.
Alternatively, we can use <code>@-</code>, which is a neat way to refer to the <strong>parent of the working copy commit</strong>.
There are many such clever ways to refer to commits, but that's a topic for later.
For now, just remember <code>@-</code>, because that's by far the most useful one.</p>
<p>Let's see what <code>jj log</code> has to say:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">z</span><span class="bold highlighted dimgray ">zywylnt</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 20:36:38</span><span class="bold "> </span><span class="bold highlighted blue ">4</span><span class="bold highlighted dimgray ">8708b9f</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">k</span><span class="highlighted dimgray ">xqyrwux</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 20:36:38</span> <span class="purple ">main*</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">6</span><span class="highlighted dimgray ">ca38e90</span>
‚îÇ  Add project description to readme
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">m</span><span class="highlighted dimgray ">kmqlnox</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 20:25:40</span> <span class="purple ">main@origin</span> <span class="bold "></span><span class="bold blue ">7</span><span class="highlighted dimgray ">939d4cf</span>
‚îÇ  Add readme with project title
~
</pre>
<p>The important thing to notice here is that Jujutsu shows us the discrepancy between the local bookmark <code>main</code> and its remote counterpart.
<code>main*</code> is the local bookmark and the star next to the name means it's out-of-sync with the remote.
<code>main@origin</code> is the location of the bookmark on the remote.</p>
<p>We can fix the situation by pushing the bookmark again:</p>
<pre><code class="language-sh">jj git push
</code></pre>
<p>This time, we didn't specify <code>--bookmark main</code> explicitly.
If you omit the <code>--bookmark</code> flag on the <code>push</code> command, Jujutsu tries to be smart about which bookmarks you actually want to push.
That usually works quite well.
If you think it didn't work, just try again with the <code>--bookmark</code> flag.</p>
<p>You might be wondering:
Since the remote requires a bookmark to receive commits and the <code>main</code> bookmark is <strong>not</strong> pointing to the first commit anymore... is that commit now lost or deleted?
Luckily it is not.
Commits store a reference to their parent commit, which is why Jujutsu knows the order in which to draw the commits in the output of <code>jj log</code>.
These references form a chain that protects all ancestors of a bookmarked commit from being lost.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cloning-a-remote"><a class="header" href="#cloning-a-remote">Cloning a remote</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="clone.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s clone
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>At the beginning of the tutorial, we started our journey by initializing a completely new project using <code>jj git init</code>.
We then added a remote later, as a backup solution.
In reality, it's often the other way around:
You need to work on a repository that already exists.</p>
<p>Let's simulate that situation by deleting our main repository:</p>
<pre><code class="language-sh">cd ~
rm -rf ~/jj-tutorial/repo
</code></pre>
<p>Now, we only have the remote repository left.
How can we get a "local" copy of it so we can continue working?
The jargon for getting a copy of a repo is to <strong>clone</strong> it.
The relevant Jujutsu command is named accordingly:</p>
<pre><code class="language-sh">jj git clone ~/jj-tutorial/remote ~/jj-tutorial/repo
</code></pre>
<p>The last two arguments are (1) the <strong>source</strong> from which to clone and (2) the <strong>destination</strong> - where to store the cloned repo.
When you clone from a remote, you're automatically connected to it with the default name <code>origin</code>.</p>
<p>For the tutorial, we also need to recreate our repo-specific authorship configuration:</p>
<pre><code class="language-sh">cd ~/jj-tutorial/repo
jj config set --repo user.name "Alice"
jj config set --repo user.email "alice@local"
jj metaedit --update-author
</code></pre>
<p>Let's run <code>jj log</code> in our fresh clone to see if everything was restored successfully:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">u</span><span class="bold highlighted dimgray ">popmymm</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-09-06 20:42:45</span><span class="bold "> </span><span class="bold highlighted blue ">2</span><span class="bold highlighted dimgray ">5716c6f</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">y</span><span class="highlighted dimgray ">twonzvp</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-06 20:42:20</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">0</span><span class="highlighted dimgray ">a518bdd</span>
‚îÇ  Add project description to readme
~
</pre>
<p>The most recent commit we made is visible, but its ancestors are hidden.
In their place is a tilde <strong><code>~</code></strong> symbol.
Jujutsu uses some rule to determine which commits are probably not interesting to you.
These commits are hidden by default in the output of <code>jj log</code>.
We can tell Jujutsu to show us <em>all</em> commits with <code>jj log --revisions 'all()'</code>:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">u</span><span class="bold highlighted dimgray ">popmymm</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-09-06 20:42:45</span><span class="bold "> </span><span class="bold highlighted blue ">2</span><span class="bold highlighted dimgray ">5716c6f</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">y</span><span class="highlighted dimgray ">twonzvp</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-06 20:42:20</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">0</span><span class="highlighted dimgray ">a518bdd</span>
‚îÇ  Add project description to readme
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">p</span><span class="highlighted dimgray ">snzzpwy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-06 20:41:56</span> <span class="bold "></span><span class="bold blue ">02</span><span class="highlighted dimgray ">181db9</span>
‚îÇ  Add readme with project title
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zzzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">00</span><span class="highlighted dimgray ">000000</span>
</pre>
<p>Both of our commits are here, so our repository was successfully restored from the remote.</p>
<div id="admonition-youve-completed-level-1--" class="admonition admonish-success" role="note" aria-labelledby="admonition-youve-completed-level-1---title">
<div class="admonition-title">
<div id="admonition-youve-completed-level-1---title">
<p>You've completed Level 1 ! üéâ</p>
</div>
<a class="admonition-anchor-link" href="clone.html#admonition-youve-completed-level-1--"></a>
</div>
<div>
<p>You made it!
At this point, you have all the skills needed for simple solo projects with proper backup.
If you're planning to use GitHub, the next chapter is an optional one with tips for that.</p>
<p>Let's summarize the workflow again:</p>
<ol>
<li>make changes</li>
<li>create a new commit</li>
<li>move the bookmark</li>
<li>push to the remote</li>
</ol>
<p>Ideally, you can take a little break now and practice what you've learned.
Once you feel comfortable with the above, come back quickly for level 2.
We're just scratching the surface.</p>
<p>If you need to collaborate with other people, level 2 is just as essential as this one.
I encourage you keep going right away!</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-github-optional"><a class="header" href="#using-github-optional">Using GitHub (optional)</a></h1>
<p>As promised, here are a few tips about using <a href="https://github.com/">GitHub</a>.
If you are not interested in this, feel free to skip to the next chapter, it won't become relevant later.</p>
<p>I want to mention that GitHub is not the only provider of Git-hosting services, but certainly the most popular one.
Unfortunately, it is proprietary.
Proprietary software denies you the freedom to read, modify and share its source code.
Here is a list of open-source Git-hosting software and service providers who use them.
If your digital freedom is important to you, consider using one of these alternatives for hosting your repositories.</p>
<ul>
<li><a href="https://forgejo.org/">Forgejo</a></li>
<li><a href="https://codeberg.org/">Codeberg</a></li>
<li><a href="https://sourcehut.org/">Sourcehut</a></li>
<li><a href="https://www.gerritcodereview.com/">Gerrit</a></li>
<li><a href="https://tangled.sh/">Tangled</a></li>
<li><a href="https://radicle.xyz/">Radicle</a></li>
</ul>
<h2 id="authenticating-with-an-ssh-key"><a class="header" href="#authenticating-with-an-ssh-key">Authenticating with an SSH key</a></h2>
<p>Jujutsu needs to authenticate as your GitHub user in order to send and receive commits on your behalf.
It's possible to do that with username and password, but it's very tedious and I don't recommend it at all.
If making backup is tedious, you will do it <strong>less often</strong>.
Fewer backups means more risk of losing your work!
So let's make the authentication as seamless as possible.</p>
<p>The best authentication method is to use an SSH key.
It's more convenient and safer than a password.
GitHub has great documentation about how to set that up, so please follow the instructions here:</p>
<ul>
<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent">Generating a new SSH key</a></li>
<li><a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">Adding an SSH key to your account</a></li>
</ul>
<p>You can verify the setup with the following command:</p>
<pre><code class="language-sh">ssh -T git@github.com
</code></pre>
<p>The expected output is:</p>
<pre><code>Hi user! You've successfully authenticated, but GitHub does not provide shell access.
</code></pre>
<h2 id="creating-a-new-repository-on-github"><a class="header" href="#creating-a-new-repository-on-github">Creating a new repository on GitHub</a></h2>
<p>Skip ahead if you intend to use an already existing repo.</p>
<p>To create a new repository on GitHub, <a href="https://github.com/new">click here</a> and fill out the form.
All you need to do is choose an owner (probably your username) and a repo name.
Also check that the visibility matches what you want (can be changed later).</p>
<p>If you already have a local repository with content that you want to push to this new remote, make sure to <strong>not initialize the repo with any content</strong>.
That means, no template, no README, no <code>.gitignore</code> and no license.</p>
<p>Finally, click on "Create repository".</p>
<h2 id="cloning-an-existing-repo"><a class="header" href="#cloning-an-existing-repo">Cloning an existing repo</a></h2>
<p>Navigate to the page of the existing repo in the browser.
Cick on the green button that says "Code".
<strong>Select SSH</strong> in the drop-down (assuming you have set up an SSH key as explained above).
Copy the URL that's displayed.</p>
<p><img src="./github_ssh_url.png" alt="" /></p>
<p>Finally, paste the URL into Jujutsu's clone command:</p>
<pre><code class="language-sh">jj git clone &lt;COPIED_URL&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="level-2"><a class="header" href="#level-2">Level 2</a></h1>
<p>This level will provide you with the minimum skills to start collaborating with others.
If you're a student working on a group project or a professional software engineer, you absolutely need to know this.</p>
<p>Here's the cheat sheet for level 2. You may also want to revise the <a href="./level_1.html">level 1 cheat sheet</a>.</p>
<div id="admonition-cheat-sheet" class="admonition admonish-info" role="note" aria-labelledby="admonition-cheat-sheet-title">
<div class="admonition-title">
<div id="admonition-cheat-sheet-title">
<p>cheat sheet</p>
</div>
<a class="admonition-anchor-link" href="level_2.html#admonition-cheat-sheet"></a>
</div>
<div>
<p>Fetch new commits from your peers</p>
<pre><code class="language-sh">jj git fetch
</code></pre>
<p>Merge your branched-off changes with the main bookmark</p>
<pre><code class="language-sh">jj new main @-
</code></pre>
<p>Push your latest commit to a new bookmark</p>
<pre><code class="language-sh">jj git push --change @-
</code></pre>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="branching-history"><a class="header" href="#branching-history">Branching history</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="branch.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s branch
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Before now, we only covered situations where you are working on a project on your own.
What if several people want to collaborate on the project?
Let's simulate such a scenario and see what happens.
We'll do so in the same repository we used in the previous level:</p>
<pre><code class="language-sh">cd ~/jj-tutorial/repo
</code></pre>
<p>Alice and Bob are working on a group project for a computer science class.
Their task is to write the classic "Hello, world!" program in Python.
Alice and Bob decide to split up the work as such:</p>
<ul>
<li>Alice will write the Python program.</li>
<li>Bob will add documentation to the README.</li>
</ul>
<p>Let's start with Alice.
Here's the Python program she comes up with:</p>
<pre><code class="language-python">print('Hello, world!')
</code></pre>
<p>That'll do the job just fine.
She adds it to the file <code>hello.py</code>:</p>
<pre><code class="language-sh">echo "print('Hello, world!')" &gt; hello.py
</code></pre>
<p>Happy with her changes, Alice creates a new commit:</p>
<pre><code class="language-sh">jj commit -m "Add Python script for greeting the world

Printing the text \"Hello, world!\" is a classic exercise in introductory
programming courses. It's easy to complete in basically any language and
makes students feel accomplished and curious for more at the same time."
</code></pre>
<p>Here's how the repository should look at this point:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">s</span><span class="bold highlighted dimgray ">vplvpro</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 21:17:41</span><span class="bold "> </span><span class="bold highlighted blue ">4</span><span class="bold highlighted dimgray ">db2d0d0</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zywylnt</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:17:31</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">f8</span><span class="highlighted dimgray ">e44920</span>
‚îÇ  Add Python script for greeting the world
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">k</span><span class="highlighted dimgray ">xqyrwux</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:14:46</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">ff</span><span class="highlighted dimgray ">df52d0</span>
‚îÇ  Add project description to readme
~
</pre>
<p>Next, we simulate Bob's work.
He's working on a different computer than Alice, with a different copy of the repository.
Since Bob is working at the same time as her, he doesn't have the commit made by Alice yet.
We can simulate that by creating a third repository, which has the same remote as our primary one:</p>
<pre><code>jj git clone ~/jj-tutorial/remote ~/jj-tutorial/repo-bob
</code></pre>
<p>Let's go into that repo, configure our author information for the role-play and make sure the log looks the same way as when Alice started her work:</p>
<pre><code class="language-sh">cd ~/jj-tutorial/repo-bob
jj config set --repo user.name Bob
jj config set --repo user.email bob@local
jj metaedit --update-author
jj log
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">q</span><span class="bold highlighted dimgray ">uolxwkk</span><span class="bold "> </span><span class="bold yellow ">bob@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 21:19:11</span><span class="bold "> </span><span class="bold highlighted blue ">3</span><span class="bold highlighted dimgray ">ffac111</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">k</span><span class="highlighted dimgray ">xqyrwux</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:14:46</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">fdf52d0</span>
‚îÇ  Add project description to readme
~
</pre>
<p>That looks great.
So now, Bob is going to do his part the same way Alice did:</p>
<pre><code class="language-sh">echo "# jj-tutorial

The file hello.py contains a script that greets the world.
It can be executed with the command 'python hello.py'.
Programming is fun!" &gt; README.md

jj commit -m "Document hello.py in README.md

The file hello.py doesn't exist yet, because Alice is working on that.
Once our changes are combined, this documentation will be accurate."
</code></pre>
<p>Let's say that Bob was a little faster than Alice, because he was only doing the documentation.
Alice was doing actual software engineering, which took a little more time.
Therefore, Bob gets to update the main bookmark first:</p>
<pre><code class="language-sh">jj bookmark move main --to @-
jj git push
</code></pre>
<p>A little later, Alice is also done.
Now she attempts to update the <code>main</code> bookmark, which will fail:</p>
<pre><code class="language-sh">cd ~/jj-tutorial/repo
jj bookmark move main --to @-
jj git push
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
Changes to push to origin:
  Move forward bookmark main from cd5f3fff9c7b to e90b597ed78e
<span class="bold "></span><span class="bold red ">Error: </span><span class="bold ">Failed to push some bookmarks</span>
<span class="bold "></span><span class="bold cyan ">Hint: </span>The following references unexpectedly moved on the remote:
  <span class="green ">refs/heads/main</span> (reason: stale info)
<span class="bold "></span><span class="bold cyan ">Hint: </span>Try fetching from the remote, then make the bookmark point to where
       ‚Ü™ you want it to be, and push again.
</pre>
<p>Alice is about to panic, so she opens social media and scrolls a little until she finds a cat video.
She finds one where a cat is snuggling with a bunch of baby ducks!
Super cute.
Now that her nerves are calmed, she turns her attention back to the terminal and actually reads the error message.
She is relieved to find that it actually contains useful information about what went wrong and how to fix it.
Following the hint, she first fetches from the remote:</p>
<pre><code class="language-sh">jj git fetch
</code></pre>
<p><code>fetch</code> is a new command, it's basically the opposite of <code>push</code>.
While <code>push</code> sends bookmarks and commits from the local repository to the remote, <code>fetch</code> downloads bookmarks and commits that someone else (like Bob) may have pushed from another computer.</p>
<p>Here's the resulting <code>jj log</code>:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">s</span><span class="bold highlighted dimgray ">vplvpro</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 21:17:41</span><span class="bold "> </span><span class="bold highlighted blue ">4</span><span class="bold highlighted dimgray ">db2d0d0</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zywylnt</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:17:31</span> <span class="purple ">main?? main@git</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">f8</span><span class="highlighted dimgray ">e44920</span>
‚îÇ  Add Python script for greeting the world
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">q</span><span class="highlighted dimgray ">uolxwkk</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-22 21:22:22</span> <span class="purple ">main?? main@origin</span> <span class="bold "></span><span class="bold blue ">8</span><span class="highlighted dimgray ">d538390</span>
‚îú‚îÄ‚ïØ  Document hello.py in README.md
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">k</span><span class="highlighted dimgray ">xqyrwux</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:14:46</span> <span class="bold "></span><span class="bold blue ">ff</span><span class="highlighted dimgray ">df52d0</span>
‚îÇ  Add project description to readme
~
</pre>
<p>Oh!
That's something we haven't seen before.
Our version history is split into two <strong>branches</strong>.
This is not unusual and lies at the core of how Jujutsu enables people to work independently from one another.
But we don't know how to deal with this situation yet.</p>
<p>If Jujutsu allowed Alice to push the <code>main</code> bookmark without knowing about Bob's update, his work would accidentally get deleted.
Remember: The remote only considers commits worth keeping around if they are <strong>reachable</strong> from a bookmark.
But if the <code>main</code> bookmark points to Alice's commit, Bob's commit is <strong>not reachable</strong> anymore, because it is not an ancestor of Alice's commit.</p>
<p>Notice that the <code>main</code> bookmark appears <strong>twice</strong> in the log, both times with question marks <strong><code>??</code></strong>.
This means Jujutsu isn't sure where the bookmark should point to.
Alice moved it to her commit, while it was moved to Bob's commit on the remote.
Once Alice has decided where it should actually point, she can tell Jujutsu by explicitly moving it there.</p>
<div id="admonition-confusing-terms-bookmark-and-branch" class="admonition admonish-info" role="note" aria-labelledby="admonition-confusing-terms-bookmark-and-branch-title">
<div class="admonition-title">
<div id="admonition-confusing-terms-bookmark-and-branch-title">
<p>Confusing terms: bookmark and branch</p>
</div>
<a class="admonition-anchor-link" href="branch.html#admonition-confusing-terms-bookmark-and-branch"></a>
</div>
<div>
<p>The terms "bookmark" and "branch" are often used in very similar situations, which can be confusing.
Let's define the difference very precisely and prepare ourselves to recognize potential sources of confusion.</p>
<p>A <strong>bookmark</strong> is just a named label that's attached to, or points to, a single commit.
That's it.</p>
<p>A <strong>branch</strong> is specified by its <strong>tip</strong>, which is also a single commit.
However, a branch refers to the <strong>set of commits</strong> that includes the tip and <strong>all of its ancestors</strong>.</p>
<p>These two concepts can be combined in a phrase like this:
"I pushed my changes to the <code>main</code> branch."
This may be confusing, because <code>main</code> is a bookmark, right?
Why are we talking about the "main" branch?
Well, the <code>main</code> bookmark points to a commit, and that commit is the tip of the branch we mean when we say "the main branch".</p>
<p>There's one more thing to look out for when talking to people who primarily use Git.
Git always uses the word <strong>branch</strong> for both things.
The term "bookmark" carries no meaning in Git.
So, when Git users say the word "branch", they may be talking about an actual branch, meaning a set of commits with a tip and all its ancestors.
They may also be talking about a bookmark, meaning a named label pointing to a single commit, without attaching any significance to the ancestors of that pointed-to commit.</p>
</div>
</div>
<p>That's all interesting and the tree-shaped graph of our commits looks very pretty, but the teacher wants a version that includes both the program and the documentation.
What should Alice and Bob do now?
Find out in the following chapters!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inspecting-a-commit"><a class="header" href="#inspecting-a-commit">Inspecting a commit</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="show.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s show
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Alice has just found out that Bob made changes at the same time as she did.
Before she attempts to somehow create a version that includes both changes, she wants to verify the two changes are compatible.
She therefore decides to check out Bob's changes by using <code>jj show</code>.
Since the remote bookmark <code>main</code> is pointing there, she can use that as identification.</p>
<pre><code>jj show main@origin
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">8d53839037b21e262e410e087606925f7582914e</span>
Change ID: <span class="purple ">quolxwkkstmturozxxxrkkpxxxnnosry</span>
Bookmarks: <span class="purple ">main??</span> <span class="purple ">main@origin</span>
Author   : <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-07-22 21:22:17</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-07-22 21:22:22</span>)

    Document hello.py in README.md

    The file hello.py doesn't exist yet, because Alice is working on that.
    Once our changes are combined, this documentation will be accurate.

<span class="yellow ">Modified regular file README.md:</span>
<span class="red ">   1</span> <span class="green ">   1</span>: # jj-tutorial
<span class="red ">   2</span> <span class="green ">   2</span>: 
<span class="red ">   3</span>     : <span class="underline "></span><span class="underline red ">This</span><span class="red "> </span><span class="underline red ">is</span><span class="red "> a </span><span class="underline red ">toy</span><span class="red "> </span><span class="underline red ">repository</span><span class="red "> </span><span class="underline red ">for</span><span class="red "> </span><span class="underline red ">learning</span><span class="red "> </span><span class="underline red ">Jujutsu</span><span class="red ">.</span>
     <span class="green ">   3</span>: <span class="underline "></span><span class="underline green ">The</span><span class="green "> </span><span class="underline green ">file</span><span class="green "> </span><span class="underline green ">hello.py contains </span><span class="green ">a </span><span class="underline green ">script</span><span class="green "> </span><span class="underline green ">that</span><span class="green "> </span><span class="underline green ">greets</span><span class="green "> </span><span class="underline green ">the</span><span class="green "> </span><span class="underline green ">world</span><span class="green ">.</span>
     <span class="green ">   4</span>: <span class="underline "></span><span class="underline green ">It can be executed with the command 'python hello.py'.</span><span class="green "></span>
     <span class="green ">   5</span>: <span class="underline "></span><span class="underline green ">Programming is fun!</span><span class="green "></span>
</pre>
<p>There's a lot of useful information here that <code>jj log</code> doesn't show.
Let's go over it one-by-one:</p>
<ul>
<li>
<p>The first two lines are the commit ID and change ID.
We've seen them already, but these ones are longer!
That's because the output of <code>jj log</code> only shows you a <strong>prefix</strong> of the full ID.
The short prefix is usually enough to uniquely identify a commit, but sometimes you want the whole thing.</p>
</li>
<li>
<p>Next is a list of bookmarks pointing to the commit.</p>
</li>
<li>
<p>The following two lines are the author and committer information, as well as their timestamps.
Author and committer are usually the same, the difference is not important.
If you're curious anyway, there's a short explanation in the info box below.</p>
</li>
<li>
<p>Then there's the commit message.
Notice that we see the full description here including its body.
<code>jj log</code> only displays the subject line to save space.</p>
</li>
<li>
<p>Lastly, we see a list of files that have changed in this commit as well as the precise changes of their content.
The color green means "added" and red means "removed"
So we can see that this commit removed the previous line 3 and replaced it with three new lines.
The first line is neutral, indicating that it was not changed in this commit.</p>
</li>
</ul>
<details id="admonition-the-difference-between-author-and-committer" class="admonition admonish-note" role="note" aria-labelledby="admonition-the-difference-between-author-and-committer-title">
<summary class="admonition-title">
<div id="admonition-the-difference-between-author-and-committer-title">
<p>The difference between author and committer</p>
</div>
<a class="admonition-anchor-link" href="show.html#admonition-the-difference-between-author-and-committer"></a>
</summary>
<div>
<p>The <strong>author</strong> of a commit is the primary person who wrote its content.
In this case, that refers to the new paragraph being added to the readme.
The <strong>committer</strong> on the other hand is the person who created the commit.
Again, these are usually the same, because most of the time the person who writes something also immediately puts that in a commit.</p>
<p>Let's imagine a scenario where that's not the case.</p>
<p>Before they started doing any work, Alice and Bob are joined by Claire as a third member of the team.
Claire is not comfortable using version control yet, so they decide that Claire will write the documentation instead of Bob.
Bob on the other hand will record Claire's changes in version control for safe keeping.
That way, everyone can contribute something.</p>
<p>Claire writes the documentation and sends the <code>README.md</code> file to Bob as an attachement by email.
Bob copies the file into his repository, recording it into the working copy commit as normal.
He want's to preserve Claire's authorship information, so he runs the command:</p>
<pre><code class="language-sh">jj describe --author "Claire claire@local" --no-edit
</code></pre>
<p>That command will overwrite the author information in the commit on a one-off basis.
The committer field will continue to contain Bob's information.
The result will look like this:</p>
<pre class="aha">
Commit ID: <span class="blue ">8d53839037b21e262e410e087606925f7582914e</span>
Change ID: <span class="purple ">quolxwkkstmturozxxxrkkpxxxnnosry</span>
Bookmarks: <span class="purple ">main??</span> <span class="purple ">main@origin</span>
Author   : <span class="yellow ">Claire</span> &lt;<span class="yellow ">claire@local</span>&gt; (<span class="cyan ">2025-07-22 21:22:17</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-07-22 21:22:22</span>)

    ...
</pre>
</div>
</details>
<p>Alice is pretty sure that Bob's changes are compatible with hers.
He only changed the file <code>README.md</code>, while Alice didn't do anything besides adding <code>hello.py</code>.
Her next task is to create a version of the project that combines both changes.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-merge-commit"><a class="header" href="#creating-a-merge-commit">Creating a merge commit</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="merge.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s merge
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>I've strung you along for long enough, let's finally create that version with the combined changes.</p>
<p>There are actually two approaches to achieve this, one of them we'll see later.
For now, we're going to create a <strong>merge commit</strong>.
As the name implies, a merge commit merges changes from two (or more!) commits.</p>
<p>Until now, we've created new commits with the command <code>jj commit</code>.
That command actually does two things at once:
It adds a description to the commit you just finished working on and starts a new commit on top of it.
Unfortunately it can't create merge commits.</p>
<p>There is a slightly more "low-level" command for creating new commits called <code>jj new</code>.
It only creates a new commit and doesn't modify any descriptions.
Importantly, it takes a <strong>list of parents</strong> as additional arguments.
This allows us to create a commit with two parents, i.e. a merge commit:</p>
<pre><code class="language-sh">jj new main@origin @-
</code></pre>
<p>Let's view the result with <code>jj log</code>:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>    <span class="bold "></span><span class="bold highlighted purple ">t</span><span class="bold highlighted dimgray ">wywpklt</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 21:26:35</span><span class="bold "> </span><span class="bold highlighted blue ">7</span><span class="bold highlighted dimgray ">64f3651</span><span class="bold "></span>
‚îú‚îÄ‚ïÆ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zywylnt</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:17:31</span> <span class="purple ">main?? main@git</span> <span class="bold "></span><span class="bold blue ">f8</span><span class="highlighted dimgray ">e44920</span>
‚îÇ ‚îÇ  Add Python script for greeting the world
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span> ‚îÇ  <span class="bold "></span><span class="bold purple ">q</span><span class="highlighted dimgray ">uolxwkk</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-22 21:22:22</span> <span class="purple ">main?? main@origin</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">8</span><span class="highlighted dimgray ">d538390</span>
‚îú‚îÄ‚ïØ  Document hello.py in README.md
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">k</span><span class="highlighted dimgray ">xqyrwux</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:14:46</span> <span class="bold "></span><span class="bold blue ">ff</span><span class="highlighted dimgray ">df52d0</span>
‚îÇ  Add project description to readme
~
</pre>
<p>Interesting!
The two parents of the new merge commit are easily visible in the commit graph.
You can confirm that this new commit contains both changes from Alice and Bob:</p>
<pre><code class="language-sh">cat README.md
cat hello.py
</code></pre>
<p>Jujutsu tries to be smart about how to combine changes, but not too smart.
Combining changes which modify the same part of the project leads to a <strong>conflict</strong>.
Conflicts are not necessarily bad, they are just a signal that you need to combine some changes manually, making sure to preserve the essence of what each change was trying to achieve individually.
How to resolve conflicts is a topic reserved for the next level.</p>
<p>Let's wrap up this merge commit and send it to the remote:</p>
<pre><code class="language-sh">jj commit -m "Merge code and documentation for hello-world"
jj bookmark move main --to @-
jj git push
</code></pre>
<p>Phew!
That was intense.
If you run <code>jj log</code> now, the complicated branching and merging will be hidden by default.
Remember that you can reveal it with <code>jj log --revisions 'all()'</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="excluding-files-from-version-control"><a class="header" href="#excluding-files-from-version-control">Excluding files from version control</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="ignore.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s ignore
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Let's check up on Bob:</p>
<pre><code class="language-sh">cd ~/jj-tutorial/repo-bob
</code></pre>
<p>Done with his part of the assignment, he's already thinking about the submission.
The teacher expects to receive a tarball called <code>submission_alice_bob.tar.gz</code>.
After a little <a href="https://xkcd.com/1168/">trial and error</a>, he comes up with the following command to create the tarball:</p>
<pre><code class="language-sh">tar czf submission_alice_bob.tar.gz README.md
</code></pre>
<p>(Go ahead and run it!)</p>
<p>Bob wants to spare Alice the hassle of having to figure that out, in case she ends up making the final submission.
He decides to add it to the documentation:</p>
<pre><code class="language-sh">echo "
## Submission

Run the following command to create the submission tarball:

~~~sh
tar czf submission_alice_bob.tar.gz [FILE...]
~~~" &gt;&gt; README.md
</code></pre>
<p>Bob is careful to push only clean commits to the remote shared with Alice.
(Be like Bob!)
He double-checks the content of his commit with <code>jj show</code>:</p>
<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">596961f1e4aaa66f50b918902efbc839122184f4</span>
Change ID: <span class="purple ">vtkxsvmtporzvtpovlpqvytrpzxyuykn</span>
Author   : <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:40</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:59</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Modified regular file README.md:</span>
    ...
<span class="red ">   3</span> <span class="green ">   3</span>: The file hello.py contains a script that greets the world.
<span class="red ">   4</span> <span class="green ">   4</span>: It can be executed with the command 'python hello.py'.
<span class="red ">   5</span> <span class="green ">   5</span>: Programming is fun!
     <span class="green ">   6</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   7</span>: <span class="underline "></span><span class="underline green ">## Submission</span><span class="green "></span>
     <span class="green ">   8</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   9</span>: <span class="underline "></span><span class="underline green ">Run the following command to create the submission tarball:</span><span class="green "></span>
     <span class="green ">  10</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">  11</span>: <span class="underline "></span><span class="underline green ">~~~sh</span><span class="green "></span>
     <span class="green ">  12</span>: <span class="underline "></span><span class="underline green ">tar czf submission_alice_bob.tar.gz [FILE...]</span><span class="green "></span>
     <span class="green ">  13</span>: <span class="underline "></span><span class="underline green ">~~~</span><span class="green "></span>
<span class="yellow ">Added regular file submission_alice_bob.tar.gz:</span>
<span class="cyan ">    (binary)</span>
</pre>
<p>Oh no!
It looks like the result of Bob's research was recorded in the commit.
The tarball <code>submission_alice_bob.tar.gz</code> has no business being tracked in version control.</p>
<p>By default, Jujutsu records every single file in the project into your working copy, which is usually what you want.
But sometimes, you need to tell Jujutsu to ignore certain files and exclude them from being recorded.
For this purpose, Jujutsu reads a special <code>.gitignore</code> file if it exists in the project.
This file can contain a list of file names, directories, and patterns which describe the set of files that should not be tracked in version control.</p>
<p>To fix the problem, Bob adds a pattern for tarballs to the <code>.gitignore</code> file:</p>
<pre><code class="language-sh">echo "*.tar.gz" &gt; .gitignore
</code></pre>
<p>The star <code>*</code> symbol is a special <a href="https://en.wikipedia.org/wiki/Glob_(programming)">glob</a> character which can expand to match any filename, including <code>submission_alice_bob</code>.
Adding only the precise filename <code>submission_alice_bob.tar.gz</code> to the <code>.gitignore</code> file would've worked as well, but the above pattern takes care of <em>any</em> tarball.</p>
<details id="admonition-ignoring-files-globally" class="admonition admonish-info" role="note" aria-labelledby="admonition-ignoring-files-globally-title">
<summary class="admonition-title">
<div id="admonition-ignoring-files-globally-title">
<p>Ignoring files globally</p>
</div>
<a class="admonition-anchor-link" href="ignore.html#admonition-ignoring-files-globally"></a>
</summary>
<div>
<p>Sometimes you might have the same files lying around in several projects that are only intended for your personal use.
In that case, it makes sense to ignore these files globally, not just for a specific project.
It would be a little tedious to add personal files to the <code>.gitignore</code> of every single project you work on.</p>
<p>One such example is relevant for macOS users:
The Finder application stores hidden files called <code>.DS_Store</code> in directories opened with it.
These files can end up anywhere and basically never belong in version control.
If you're a macOS user, consider adding <code>.DS_Store</code> to your global <code>.gitignore</code> file:</p>
<pre><code class="language-sh">echo ".DS_Store" &gt;&gt; ~/.gitignore
</code></pre>
</div>
</details>
<p>Let's check the commit content again:</p>
<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">c9bc30b48922c767c553392709f212b8c0815ceb</span>
Change ID: <span class="purple ">vtkxsvmtporzvtpovlpqvytrpzxyuykn</span>
Author   : <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:40</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:41:13</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Added regular file .gitignore:</span>
     <span class="green ">   1</span>: <span class="underline "></span><span class="underline green ">*.tar.gz</span><span class="green "></span>
<span class="yellow ">Modified regular file README.md:</span>
    ...
<span class="red ">   3</span> <span class="green ">   3</span>: The file hello.py contains a script that greets the world.
<span class="red ">   4</span> <span class="green ">   4</span>: It can be executed with the command 'python hello.py'.
<span class="red ">   5</span> <span class="green ">   5</span>: Programming is fun!
     <span class="green ">   6</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   7</span>: <span class="underline "></span><span class="underline green ">## Submission</span><span class="green "></span>
     <span class="green ">   8</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   9</span>: <span class="underline "></span><span class="underline green ">Run the following command to create the submission tarball:</span><span class="green "></span>
     <span class="green ">  10</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">  11</span>: <span class="underline "></span><span class="underline green ">~~~sh</span><span class="green "></span>
     <span class="green ">  12</span>: <span class="underline "></span><span class="underline green ">tar czf submission_alice_bob.tar.gz [FILE...]</span><span class="green "></span>
     <span class="green ">  13</span>: <span class="underline "></span><span class="underline green ">~~~</span><span class="green "></span>
<span class="yellow ">Added regular file submission_alice_bob.tar.gz:</span>
<span class="cyan ">    (binary)</span>
</pre>
<p>Hmm... the <code>.gitignore</code> file has joined the party, but the tarball is <em>still</em> recorded in the commit.
The reason is that Jujutsu only considers <code>.gitignore</code> for files it hasn't already started tracking.
Since Bob added the <code>.gitignore</code> after the unwelcome file started being tracked, it had no effect.
Luckily, Jujutsu has a command to make it stop tracking already-tracked files:</p>
<pre><code class="language-sh">jj file untrack submission_alice_bob.tar.gz
</code></pre>
<p>The <code>untrack</code> command only works if the file to untrack is already present in <code>.gitignore</code>.
Otherwise, Jujutsu would immediately start tracking the file again just after untracking it.
Note that you can also ignore and untrack entire directories at once.</p>
<p>Let's check the commit content one more time:</p>
<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">0f0015beb53d8c83f3bbcfe938a9bf031834c3e4</span>
Change ID: <span class="purple ">vtkxsvmtporzvtpovlpqvytrpzxyuykn</span>
Author   : <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:40</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:41:36</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Added regular file .gitignore:</span>
     <span class="green ">   1</span>: <span class="underline "></span><span class="underline green ">*.tar.gz</span><span class="green "></span>
<span class="yellow ">Modified regular file README.md:</span>
    ...
<span class="red ">   3</span> <span class="green ">   3</span>: The file hello.py contains a script that greets the world.
<span class="red ">   4</span> <span class="green ">   4</span>: It can be executed with the command 'python hello.py'.
<span class="red ">   5</span> <span class="green ">   5</span>: Programming is fun!
     <span class="green ">   6</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   7</span>: <span class="underline "></span><span class="underline green ">## Submission</span><span class="green "></span>
     <span class="green ">   8</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   9</span>: <span class="underline "></span><span class="underline green ">Run the following command to create the submission tarball:</span><span class="green "></span>
     <span class="green ">  10</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">  11</span>: <span class="underline "></span><span class="underline green ">~~~sh</span><span class="green "></span>
     <span class="green ">  12</span>: <span class="underline "></span><span class="underline green ">tar czf submission_alice_bob.tar.gz [FILE...]</span><span class="green "></span>
     <span class="green ">  13</span>: <span class="underline "></span><span class="underline green ">~~~</span><span class="green "></span>
</pre>
<p>Yay!
This commit looks nice and tidy, let's finish it with a description:</p>
<pre><code class="language-sh">jj commit -m "Add submission instructions"
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rebasing"><a class="header" href="#rebasing">Rebasing</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="rebase.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s rebase
cd ~/jj-tutorial/repo-bob
</code></pre>
</div>
</details>
<p>Remember that we're still in Bob's repo from the last chapter:</p>
<pre><code class="language-sh">cd ~/jj-tutorial/repo-bob
</code></pre>
<p>Now that Bob is happy with his second commit, he tries to push it to the remote.
It will fail just like it did for Alice earlier:</p>
<pre><code class="language-sh">jj bookmark move main --to @-
jj git push
</code></pre>
<p>The solution for Bob is to fetch from the remote, just like it was for Alice:</p>
<pre><code class="language-sh">jj git fetch
</code></pre>
<p>Here's what Bob's log looks like now:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">z</span><span class="bold highlighted dimgray ">tyvwqll</span><span class="bold "> </span><span class="bold yellow ">bob@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 21:29:52</span><span class="bold "> </span><span class="bold highlighted blue ">9</span><span class="bold highlighted dimgray ">3f27644</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">mswwyok</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-22 21:29:27</span> <span class="purple ">main?? main@git</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">e</span><span class="highlighted dimgray ">583fa6e</span>
‚îÇ  Add submission instructions
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">wywpklt</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:27:24</span> <span class="purple ">main?? main@origin</span> <span class="bold "></span><span class="bold blue ">6</span><span class="highlighted dimgray ">06959ce</span>
‚ï≠‚îÄ‚î§  <span class="green ">(empty)</span> Merge code and documentation for hello-world
‚îÇ ‚îÇ
‚îÇ ~
‚îÇ
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">q</span><span class="highlighted dimgray ">uolxwkk</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-22 21:22:22</span> <span class="bold "></span><span class="bold blue ">8</span><span class="highlighted dimgray ">d538390</span>
‚îÇ  Document hello.py in README.md
~
</pre>
<p>It's basically the same situation.
Bob's and Alice's changes have branched-off into different directions.
To merge them back together, Bob could do the same thing Alice did and create a merge commit.
However, Bob doesn't like merge commits.
Preferring straight lines in his log, he decides to take a different approach from Alice.</p>
<p>Bob is going to pretend like he made his changes on top of Alice's changes all along.
His most recent commit should have Alice's commit as its parent, because that will result in a <strong>linear history</strong>.</p>
<p>There is a Jujutsu command just for this purpose:
It's called <code>rebase</code>.
As the name implies, it takes commits from one "base" (some ancestor) and moves them on top of a different "base".
<code>jj rebase</code> on its own doesn't work though, it needs to know the <strong>destination</strong> of the operation.
In this case, Bob wants to move his commit on top of the state of the remote <code>main</code> bookmark, i.e. Alice's commit.
Therefore, he runs the command:</p>
<pre><code class="language-sh">jj rebase --destination main@origin
</code></pre>
<p>What does the log say?</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">z</span><span class="bold highlighted dimgray ">tyvwqll</span><span class="bold "> </span><span class="bold yellow ">bob@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-22 21:30:38</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">911e4c7</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">mswwyok</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-22 21:30:38</span> <span class="purple ">main*</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">0</span><span class="highlighted dimgray ">2bd1179</span>
‚îÇ  Add submission instructions
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">wywpklt</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-22 21:27:24</span> <span class="purple ">main@origin</span> <span class="bold "></span><span class="bold blue ">6</span><span class="highlighted dimgray ">06959ce</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<p>Splendid, that's exactly what Bob wanted.
Jujutsu even figured out that the <code>main</code> bookmark should probably point to Bob's new commit.
All that's left to do is to rerun:</p>
<pre><code class="language-sh">jj git push
</code></pre>
<p>What Bob has just done is a paradigm shift:
He has <strong>rewritten history</strong>.
The history used to say that Bob's second commit descended from his first one, but now it says it descended from Alice's commit.
The extent of this revisionism is still benign, but as we progress through the tutorial, we will explore the dark arts of history manipulation ever more deeply.</p>
<div style="display: flex; justify-content: center">
<b style="color: red">
TRUTH ITSELF SHALL BEND TO YOUR WILL
</b>
</div>
<p>...ahem, where were we?</p>
<p>I've glossed over a small detail.
I said the <code>rebase</code> command moves commit from a <em>one base</em> to a new one.
What is that <em>previous</em> base?
When using the <code>--destination</code> flag (or <code>-d</code> for short), Jujutsu will select the first shared ancestor of your working copy and the new base as the <em>old base to rebase from</em>.
In simple terms, the <code>rebase</code> command moves only those commits that aren't on the destination branch yet.
In our example, there was only one commit to move.</p>
<p>Creating a merge commit and rebasing are both valid ways of recombining changes that branched-off into different directions.
They both have advantages and disadvantages.
Some people care more about one aspect than another, so they may end up having strong opinions about which approach is best.
Here's a hopefully balanced overview of the main trade-off:</p>
<div class="table-wrapper"><table><thead><tr><th></th><th>advantage</th><th>disadvantage</th></tr></thead><tbody>
<tr><td><strong>merge</strong></td><td>Preserves the history exactly as it happened.</td><td>Can result in a tangled, hard-to-read history.</td></tr>
<tr><td><strong>rebase</strong></td><td>Results in an easy-to-read, linear history.</td><td>Lies about the order in which things happened.</td></tr>
</tbody></table>
</div>
<p>Once you have determined the correct opinion regarding which one is better, please let everybody on the internet know about your important discovery!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="adding-more-bookmarks"><a class="header" href="#adding-more-bookmarks">Adding more bookmarks</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="more_bookmarks.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s more_bookmarks
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Let's switch back to Alice:</p>
<pre><code class="language-sh">cd ~/jj-tutorial/repo
</code></pre>
<p>She heard rumors that next week's assignment is going to be about writing loops in Python.
In an attempt to stay ahead of the game, she extends the hello-world program with iteration:</p>
<pre><code class="language-sh">echo "for (i = 0; i &lt; 10; i = i + 1):
    print('Hello, world!')" &gt; hello.py
</code></pre>
<p>Unfortunately, she seems to have made a mistake.
Running <code>python hello.py</code> prints an error:</p>
<pre><code>  File "/home/user/jj-tutorial/repo/hello.py", line 1
    for (i = 0; i &lt; 10; i = i + 1):
         ^^^^^
SyntaxError: invalid syntax. Maybe you meant '==' or ':=' instead of '='?
</code></pre>
<p>Alice doesn't have time to figure out the problem.
She decides it's best to wait for the teacher to explain how to do it correctly in next week's lecture.
She doesn't just want to throw her changes away though.
She wants to keep the experiment around so she can compare it to the correct version later.
As usual, she creates a new commit before pushing:</p>
<pre><code class="language-sh">jj commit -m "WIP: Add for loop (need to fix syntax)"
</code></pre>
<p>Pushing work-in-progress (WIP) changes like this directly to the main bookmark would be a bad idea.
Imagine if Bob later created a submission tarball and it accidentally included Alice's incomplete, incorrect code!
That would be no good.
To avoid that, Alice decides to push her commit to a new bookmark.</p>
<p>What should be the name of that bookmark?
Having a <code>main</code> bookmark is a strong convention, but for additional ones, anything goes.
A simple approach is to just use a super short description of your changes, like <code>add-for-loop</code>.
Some people like to prefix their bookmark names with their own name or username, allowing everyone to easily identify who's working on what: <code>alice/add-for-loop</code>.
Still others include a ticket number from their bug-tracker software in the bookmark name.
These are all fine options, but sometimes you <em>just don't care</em>.
Jujutsu has a handy way to push changes quickly by generating a bookmark name for you:</p>
<pre><code class="language-sh">jj git push --change @-
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">q</span><span class="bold highlighted dimgray ">rtwnykn</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-25 20:37:05</span><span class="bold "> </span><span class="bold highlighted blue ">c</span><span class="bold highlighted dimgray ">2f4e43e</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">vpkroku</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">push-rvpkrokuqrxt</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">b</span><span class="highlighted dimgray ">9d02faf</span>
‚îÇ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">tlxrmun</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">30ad636</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<p>The name of the generated bookmark is <code>push-</code>, followed by a prefix of the change ID.
It's not very informative, but that's kind of the point.
The content of the commit is what's important, the bookmark is only needed to send it to the remote.</p>
<p>Note that the <code>--change</code> flag can be abbreviated as <code>-c</code>.
You might be noticing a pattern here, many commonly-used flags have these short versions.
You can explore the available flags of any Jujutsu command by calling it with the <code>--help</code> flag, e.g. <code>jj git push --help</code>.</p>
<p>Alice's experiment with Python loops is now safely stored on the remote with a bookmark, but it doesn't interfere with unrelated work progressing on the main branch.
Great!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="navigating-the-history"><a class="header" href="#navigating-the-history">Navigating the history</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="navigate.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s navigate
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Alice just got a text from Bob telling her that he pushed another commit.
She decides to fetch them:</p>
<pre><code class="language-sh">jj git fetch
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">q</span><span class="bold highlighted dimgray ">rtwnykn</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-25 20:37:05</span><span class="bold "> </span><span class="bold highlighted blue ">c</span><span class="bold highlighted dimgray ">2f4e43e</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">vpkroku</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">push-rvpkrokuqrxt</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">b</span><span class="highlighted dimgray ">9d02faf</span>
‚îÇ  WIP: Add for loop (need to fix syntax)
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">tqlsyyr</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">07a18a9</span>
‚îú‚îÄ‚ïØ  Add submission instructions
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">tlxrmun</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">30ad636</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<p>Bob's changes are on a different branch.
How can she get access to them?
We've already solved this problem in two different ways:</p>
<ul>
<li><strong>Merge</strong> the two commits with a new commit that has two parents.</li>
<li><strong>Rebase</strong> one commit on top of the other, creating a straight line of commits.</li>
</ul>
<p>Neither of these approaches are suitable here, because we don't want to <em>combine</em> the changes.
We want to leave Alice's changes on a separate branch until we decide to go back to them.</p>
<p>The solution is to create a new commit on top of Bob's changes, i.e. the main branch.
The command to do that is:</p>
<pre><code class="language-sh">jj new main
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">u</span><span class="bold highlighted dimgray ">umounxy</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-25 20:52:32</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">1bcff24</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">tqlsyyr</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">07a18a9</span>
‚îÇ  Add submission instructions
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">vpkroku</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">push-rvpkrokuqrxt</span> <span class="bold "></span><span class="bold blue ">b</span><span class="highlighted dimgray ">9d02faf</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">tlxrmun</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">30ad636</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<p>We use the same command as the one for creating a merge commit, but we only specify <strong>one</strong> parent.
The simple act of creating a new commit allows us to achieve many different use cases.</p>
<p>Notice that we used to have an empty commit on top of the loop experiment commit, but that is now gone.
Jujutsu automatically deletes commits that are empty (no changes and no description).
This keeps the log tidy and recreating an empty commit is easy anyway.
It also makes <code>jj new</code> suitable for <strong>navigating the history</strong>.
Since empty commits have the same project state as their parent, running <code>jj new some_version</code> is a great way to explore the project at a specific version.</p>
<p>As an example, let's try to look at a relatively old state of our repository.
Here's the full log for reference:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">u</span><span class="bold highlighted dimgray ">umounxy</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-25 20:52:32</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">1bcff24</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">tqlsyyr</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">07a18a9</span>
‚îÇ  Add submission instructions
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">vpkroku</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">push-rvpkrokuqrxt</span> <span class="bold "></span><span class="bold blue ">b</span><span class="highlighted dimgray ">9d02faf</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>    <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">tlxrmun</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">30ad636</span>
‚îú‚îÄ‚ïÆ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">ux</span><span class="highlighted dimgray ">vvmtos</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">a9</span><span class="highlighted dimgray ">946efd</span>
‚îÇ ‚îÇ  Add Python script for greeting the world
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span> ‚îÇ  <span class="bold "></span><span class="bold purple ">qx</span><span class="highlighted dimgray ">kprvsu</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">9</span><span class="highlighted dimgray ">e05718a</span>
‚îú‚îÄ‚ïØ  Document hello.py in README.md
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">xs</span><span class="highlighted dimgray ">swkrsu</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">69</span><span class="highlighted dimgray ">5f460b</span>
‚îÇ  Add project description to readme
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">p</span><span class="highlighted dimgray ">xvxmtks</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:36:59</span> <span class="bold "></span><span class="bold blue ">20c</span><span class="highlighted dimgray ">6a3b1</span>
‚îÇ  Add readme with project title
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">zzzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">00</span><span class="highlighted dimgray ">000000</span>
</pre>
<p>Assume we want to look at the commit with the description "Document hello.py in README.md".
We could easily do that with it's change ID, i.e. <code>jj new qxkprvsu</code>.
To make this more interesting, we'll learn one more way to identify commits:
with the <code>description()</code> function.
It tells Jujutsu to select the commit that matches the description.</p>
<pre><code class="language-sh">jj new 'description("Document hello.py in README.md")'
</code></pre>
<p>Don't forget the outer single quotes, they prevent your terminal from interpreting the inner double quotes.
There is a powerful system behind selecting commits with functions like that, which we'll learn about in the future.</p>
<p>Let's confirm our maneuver by checking the log:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">u</span><span class="bold highlighted dimgray ">xuqnppz</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-07-25 21:16:00</span><span class="bold "> </span><span class="bold highlighted blue ">a</span><span class="bold highlighted dimgray ">bba4830</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">tqlsyyr</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">07a18a9</span>
‚îÇ ‚îÇ  Add submission instructions
‚îÇ ‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">vpkroku</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="purple ">push-rvpkrokuqrxt</span> <span class="bold "></span><span class="bold blue ">b</span><span class="highlighted dimgray ">9d02faf</span>
‚îÇ ‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">tlxrmun</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="bold "></span><span class="bold blue ">5</span><span class="highlighted dimgray ">30ad636</span>
‚ï≠‚îÄ‚î§  <span class="green ">(empty)</span> Merge code and documentation for hello-world
‚îÇ ‚îÇ
‚îÇ ~
‚îÇ
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">q</span><span class="highlighted dimgray ">xkprvsu</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-07-25 20:37:05</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">9</span><span class="highlighted dimgray ">e05718a</span>
‚îÇ  Document hello.py in README.md
~
</pre>
<p>Great!
We created a commit on top of an old one from our history.
The file <code>hello.py</code> didn't exist at that time, which you can confirm by running <code>ls</code>.</p>
<p>Let's go back to the state of the main branch, to get a clean state for the next chapter:</p>
<pre><code class="language-sh">jj new main
</code></pre>
<p>Alright, so Alice now has the latest changes from Bob and can continue to do other work.
She can always come back to her loop experiment later with <code>jj new</code>, finish the work and then combine it with the main branch.</p>
<div id="admonition-youve-completed-level-2--" class="admonition admonish-success" role="note" aria-labelledby="admonition-youve-completed-level-2---title">
<div class="admonition-title">
<div id="admonition-youve-completed-level-2---title">
<p>You've completed Level 2 ! üéâ</p>
</div>
<a class="admonition-anchor-link" href="navigate.html#admonition-youve-completed-level-2--"></a>
</div>
<div>
<p>Now you have the basic skills to collaborate on projects with other people.
Let's summarize what we've learned:</p>
<ul>
<li>A branching history is normal when multiple people work together.</li>
<li>You can combine changes from a branched history by creating a <strong>merge</strong> commit or by <strong>rebasing</strong> one branch of commits on another.</li>
<li>Files which do not belong in version control can be excluded with <code>.gitignore</code> and<br />
<code>jj file untrack</code>.</li>
<li>Work-in-progress changes can be stored on the remote with additional bookmarks, avoiding chaos on the main branch.</li>
<li>You can navigate to any branch or past version of your repository with <code>jj new</code>.</li>
</ul>
<p>It's time to take a break from this tutorial and practice what you've learned on a real project.
Level 3 will teach you how to <strong>solve everyday problems</strong> like merge conflicts, so I recommend you come back for it relatively soon.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="level-3"><a class="header" href="#level-3">Level 3</a></h1>
<p>This level will provide you with basic problem solving skills like conflict resolution and restoring files from history.
Without this knowledge, it's only a matter of time until you run into trouble.
Completing this level is comparable to the skill level of the average software developer.</p>
<p>Here's the cheat sheet for level 3. You may also want to revise the <a href="./level_2.html">level 2 cheat sheet</a>.</p>
<div id="admonition-cheat-sheet" class="admonition admonish-info" role="note" aria-labelledby="admonition-cheat-sheet-title">
<div class="admonition-title">
<div id="admonition-cheat-sheet-title">
<p>cheat sheet</p>
</div>
<a class="admonition-anchor-link" href="level_3.html#admonition-cheat-sheet"></a>
</div>
<div>
<p>Undo and redo the last operation on the repository</p>
<pre><code class="language-sh">jj undo
jj redo
</code></pre>
<p>Track a remote bookmark in order to push to it</p>
<pre><code class="language-sh">jj bookmark track &lt;NAME&gt;@origin
</code></pre>
<p>Delete a commit (and bookmarks pointing to it)</p>
<pre><code class="language-sh">jj abandon &lt;CHANGE_ID&gt;
</code></pre>
<p>Restore the state (of a specific file) (from a specific commit)</p>
<pre><code class="language-sh">jj restore [--from &lt;CHANGE_ID&gt;] [FILE_TO_RESTORE]
</code></pre>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="undoing-mistakes"><a class="header" href="#undoing-mistakes">Undoing mistakes</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="undo.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s undo
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>What we've learned so far can go a long way - until something goes wrong.
For example, assume you ran <code>jj commit</code> and hastily entered a sloppy commit message.
Now you'd like to go back and improve it.</p>
<p>With our current skill set, it's impossible to edit the description of a commit after we ran <code>jj commit</code>.
But what if we could simply <strong>undo</strong> a change we made to the repository?
Travel back in time?
Turns out we can, because Jujutsu stores not only a version history of our project in the form of commits, but it also keeps a log of all operations that were performed on the repository itself.
There are some low-level commands to inspect this "operation log" and restore the repository to a specific state in time.
For now though, I will only teach you about the high-level commands to undo and redo operations one-by-one.</p>
<div id="admonition-this-chapter-requires-at-least-jujutsu-version-033" class="admonition admonish-warning" role="note" aria-labelledby="admonition-this-chapter-requires-at-least-jujutsu-version-033-title">
<div class="admonition-title">
<div id="admonition-this-chapter-requires-at-least-jujutsu-version-033-title">
<p>This chapter requires at least Jujutsu version 0.33</p>
</div>
<a class="admonition-anchor-link" href="undo.html#admonition-this-chapter-requires-at-least-jujutsu-version-033"></a>
</div>
<div>
<p>The commands we're going to run behave slightly differently with older versions.
If you have an older one (check with <code>jj --version</code>), please update to a more recent version before continuing.</p>
<p>If you installed Jujutsu with <code>mise</code> as recommended in the <a href="install.html">installation</a> chapter, you can update using the following commands:</p>
<pre><code class="language-sh">mise install-into jujutsu@latest /tmp/jj-install
mv /tmp/jj-install/jj ~/.local/bin
rm -rf /tmp/jj-install
</code></pre>
</div>
</div>
<p>Let's remind ourselves what the state of our repo looks like</p>
<pre><code class="language-sh">cd ~/jj-tutorial/repo
jj log
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">p</span><span class="bold highlighted dimgray ">zsymsll</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-09-10 20:52:56</span><span class="bold "> </span><span class="bold highlighted blue ">1</span><span class="bold highlighted dimgray ">be9c292</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">l</span><span class="highlighted dimgray ">yquuqkl</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">ae165d3</span>
‚îÇ  Add submission instructions
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">tnrtqsn</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">push-vtnrtqsnrzqx</span> <span class="bold "></span><span class="bold blue ">d</span><span class="highlighted dimgray ">517a86d</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">lwyrrmy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">fc6841f</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<h2 id="making-a-mistake"><a class="header" href="#making-a-mistake">Making a mistake</a></h2>
<p>Let's change something, so we can create a commit with a sloppy description.
Why not greet the world in a few more languages:</p>
<pre><code class="language-sh">echo "print('Hallo, Welt!')" &gt;&gt; hello.py
echo "print('Bonjour, le monde!')" &gt;&gt; hello.py
</code></pre>
<p>Now let's create that commit with a bad description:</p>
<pre><code class="language-sh">jj commit -m "code improvements"
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">y</span><span class="bold highlighted dimgray ">xmkmosm</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-09-10 20:53:46</span><span class="bold "> </span><span class="bold highlighted blue ">d2</span><span class="bold highlighted dimgray ">8a8261</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">p</span><span class="highlighted dimgray ">zsymsll</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:53:46</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">0</span><span class="highlighted dimgray ">50b543b</span>
‚îÇ  code improvements
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">l</span><span class="highlighted dimgray ">yquuqkl</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">ae165d3</span>
‚îÇ  Add submission instructions
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">tnrtqsn</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">push-vtnrtqsnrzqx</span> <span class="bold "></span><span class="bold blue ">d5</span><span class="highlighted dimgray ">17a86d</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">lwyrrmy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">fc6841f</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<h2 id="undoing-the-mistake"><a class="header" href="#undoing-the-mistake">Undoing the mistake</a></h2>
<p>Realizing our mistake, we'd like to fix it now.
We can restore the state of our repository to a previous point by running:</p>
<pre><code class="language-sh">jj undo
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">p</span><span class="bold highlighted dimgray ">zsymsll</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-09-10 20:53:46</span><span class="bold "> </span><span class="bold highlighted blue ">9</span><span class="bold highlighted dimgray ">4a7ca39</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold yellow ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">l</span><span class="highlighted dimgray ">yquuqkl</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">ae165d3</span>
‚îÇ  Add submission instructions
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">tnrtqsn</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">push-vtnrtqsnrzqx</span> <span class="bold "></span><span class="bold blue ">d</span><span class="highlighted dimgray ">517a86d</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">lwyrrmy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">fc6841f</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<p>Great!
We're back to the state before we wrote the bad commit message.
Now we get a second chance to write a better one:</p>
<pre><code class="language-sh">jj commit -m "Print German and French greetings as well"
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">n</span><span class="bold highlighted dimgray ">pnpqkvz</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-09-10 20:54:33</span><span class="bold "> </span><span class="bold highlighted blue ">8</span><span class="bold highlighted dimgray ">f11c4f5</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">p</span><span class="highlighted dimgray ">zsymsll</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:54:33</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">df</span><span class="highlighted dimgray ">82ee49</span>
‚îÇ  Print German and French greetings as well
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">l</span><span class="highlighted dimgray ">yquuqkl</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">ae165d3</span>
‚îÇ  Add submission instructions
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">tnrtqsn</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">push-vtnrtqsnrzqx</span> <span class="bold "></span><span class="bold blue ">d5</span><span class="highlighted dimgray ">17a86d</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">lwyrrmy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">fc6841f</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<h2 id="going-further-back"><a class="header" href="#going-further-back">Going further back</a></h2>
<p>What happens if you make a mistake, then you do something else, and only later you realize your mistakes?
Can you undo multiple operations?
Sure you can!
It works exactly like the "undo" feature of typical graphical applications (which you may be used to using by pressing <kbd>Ctrl+Z</kbd>).
Every time you run <code>jj undo</code>, you take one step further into the past.
Let's try it a couple of times.</p>
<p>The last thing we did was run <code>jj commit</code>, so running <code>jj undo</code> again will put the repository in the state before that:</p>
<pre><code class="language-sh">jj undo
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">p</span><span class="bold highlighted dimgray ">zsymsll</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-09-10 20:53:46</span><span class="bold "> </span><span class="bold highlighted blue ">9</span><span class="bold highlighted dimgray ">4a7ca39</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold yellow ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">l</span><span class="highlighted dimgray ">yquuqkl</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">ae165d3</span>
‚îÇ  Add submission instructions
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">tnrtqsn</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">push-vtnrtqsnrzqx</span> <span class="bold "></span><span class="bold blue ">d</span><span class="highlighted dimgray ">517a86d</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">lwyrrmy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">fc6841f</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<p>Next, what did we do before running <code>jj commit</code>?
We modified the file <code>hello.py</code>.
While we didn't use Jujutsu to do that, it was still recorded as a separate operation on the repository.
Every <code>jj</code> command you run will first check the files in your repository and detect if any of them were changed.
If changes are detected, they will be recorded as a separate operation (called a <em>snaphot</em>).
That way, you can <code>jj undo</code> those file changes separately from any action you took with a <code>jj</code> command.</p>
<p>Let's observe what happens to the content of <code>hello.py</code> when we run <code>jj undo</code>:</p>
<pre><code class="language-py"># hello.py
print('Hello, world!')
print('Hallo, Welt!')
print('Bonjour, le monde!')
</code></pre>
<pre><code class="language-sh">jj undo
</code></pre>
<pre><code class="language-py"># hello.py
print('Hello, world!')
</code></pre>
<div id="admonition-warning" class="admonition admonish-warning" role="note" aria-labelledby="admonition-warning-title">
<div class="admonition-title">
<div id="admonition-warning-title">
<p>Warning</p>
</div>
<a class="admonition-anchor-link" href="undo.html#admonition-warning"></a>
</div>
<div>
<p>What happens if you create a file and then delete it without running any <code>jj</code> commands in between?
Jujutsu didn't get the chance to create a snapshot which stores the content of that file.
Therefore, it's impossible to get the file back using <code>jj undo</code>.</p>
</div>
</div>
<p>Here's what the log looks like now:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">p</span><span class="bold highlighted dimgray ">zsymsll</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-09-10 20:52:56</span><span class="bold "> </span><span class="bold highlighted blue ">1</span><span class="bold highlighted dimgray ">be9c292</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">l</span><span class="highlighted dimgray ">yquuqkl</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">ae165d3</span>
‚îÇ  Add submission instructions
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">tnrtqsn</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">push-vtnrtqsnrzqx</span> <span class="bold "></span><span class="bold blue ">d</span><span class="highlighted dimgray ">517a86d</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">lwyrrmy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">fc6841f</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<p>We're going to run <code>jj undo</code> one last time.
What did we do before modifying <code>hello.py</code>?
You might not remember, because it was in the previous chapter.
Let's just have a look:</p>
<pre><code class="language-sh">jj undo
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">w</span><span class="bold highlighted dimgray ">kqpyqlm</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-09-10 20:52:56</span><span class="bold "> </span><span class="bold highlighted blue ">64</span><span class="bold highlighted dimgray ">0e22bf</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">l</span><span class="highlighted dimgray ">yquuqkl</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">ae165d3</span>
‚îÇ ‚îÇ  Add submission instructions
‚îÇ ‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">tnrtqsn</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">push-vtnrtqsnrzqx</span> <span class="bold "></span><span class="bold blue ">d</span><span class="highlighted dimgray ">517a86d</span>
‚îÇ ‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">lwyrrmy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">fc6841f</span>
‚ï≠‚îÄ‚î§  <span class="green ">(empty)</span> Merge code and documentation for hello-world
‚îÇ ‚îÇ
‚îÇ ~
‚îÇ
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">u</span><span class="highlighted dimgray ">vxzzlmr</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-09-10 20:52:55</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">60</span><span class="highlighted dimgray ">e09461</span>
‚îÇ  Document hello.py in README.md
~
</pre>
<p>Ah, yes.
We were practicing navigating the history.
After that, we ran <code>jj new main</code> to get back on the main branch.
<code>jj undo</code> reverted that and brought us to the state of the old commit.</p>
<p>Now, that was good practice for <code>jj undo</code>, but the three operations we just undid weren't actually mistakes.
Can we get them back?
In a typical graphical application, you might do that by clicking on a "redo" button or by pressing <kbd>Ctrl+Shift+Z</kbd>.
With Jujutsu, you run the command <code>jj redo</code>.
Let's do it three times to get back to our most recent state:</p>
<pre><code class="language-sh">jj redo
jj redo
jj redo
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">n</span><span class="bold highlighted dimgray ">pnpqkvz</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-09-10 20:54:33</span><span class="bold "> </span><span class="bold highlighted blue ">8</span><span class="bold highlighted dimgray ">f11c4f5</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">p</span><span class="highlighted dimgray ">zsymsll</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:54:33</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">df</span><span class="highlighted dimgray ">82ee49</span>
‚îÇ  Print German and French greetings as well
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">l</span><span class="highlighted dimgray ">yquuqkl</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">ae165d3</span>
‚îÇ  Add submission instructions
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">tnrtqsn</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="purple ">push-vtnrtqsnrzqx</span> <span class="bold "></span><span class="bold blue ">d5</span><span class="highlighted dimgray ">17a86d</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">lwyrrmy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-09-10 20:52:56</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">fc6841f</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<p>If you were to run <code>jj redo</code> one more time, you'd get an error telling you there's nothing to redo.</p>
<h2 id="overwriting-undone-states"><a class="header" href="#overwriting-undone-states">Overwriting undone states</a></h2>
<p>Remember the bad commit message we wrote?
It was "code improvements".
We'll, it's now impossible to get that commit back with only <code>jj undo</code> and <code>jj redo</code>.
If you create new states after having undone some others, those "undone" states will become "hidden".
This is exactly how the "undo" feature of typical graphical applications works, so you may not be surprised by this.</p>
<p>Unlike graphical applications, Jujutsu has more advanced commands to get even those states back.
That's a topic for another day though.</p>
<h2 id="pushes-to-the-remote-cant-be-undone"><a class="header" href="#pushes-to-the-remote-cant-be-undone">Pushes to the remote can't be undone</a></h2>
<p>Sending commits to the remote by pushing a bookmark is technically a normal operation on the repository.
Undoing such operations is almost always a bad idea though.
It doesn't tell the remote to restore its previous state, the remote is left intact.
The only thing <code>jj undo</code> does in that situation is <em>forget that commits were pushed to the remote</em>.
This can lead to pretty nasty errors the next time you try to fetch from or push to the remote.</p>
<p>The most frequent errors that can happen include "conflicted bookmarks" and "divergent change IDs".
Both of these problems can be solved, but now's not the right time for me to teach you <em>how</em>.
So, take my advice and <em>just don't do that</em>.</p>
<p>If you accidentally undid a <code>jj git push</code> operation, just <code>jj redo</code> it and you should be fine.</p>
<p>In the future, <code>jj undo</code> may outright refuse to undo operations that interacted with the remote.</p>
<h2 id="repository-history-is-not-backed-up-to-the-remote"><a class="header" href="#repository-history-is-not-backed-up-to-the-remote">Repository history is not backed up to the remote</a></h2>
<p>Deleting a repository locally is not a big deal if you have a remote.
Just clone the repo again and you'll have all of your commit history back.
However, that's not the case for the history of operations you made on the repository.
That history is local only.
So, <code>jj undo</code> works at most as far back as the state of when you cloned the repo.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tracking-remote-bookmarks"><a class="header" href="#tracking-remote-bookmarks">Tracking remote bookmarks</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="track.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s track
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Alice got herself a new laptop, which she's really excited about.
It's a <a href="https://frame.work/">framework laptop</a>, because Alice has become tired of computer manufacturers making it intentionally difficult for her to fix her own hardware.
Framework also has official support for Linux, which is very important to Alice.
Hardware that respects the user and software that respects the user are a great match, Alice thinks.</p>
<p>Anyway, the point is: Alice doesn't have her repository anymore.
She could've copied it over from her old computer, but since she can just clone the repo again, she didn't do that.
Let's simulate Alice making a fresh clone of the repo:</p>
<pre><code class="language-sh">cd ~ # move out of the directory we're about to delete
rm -rf ~/jj-tutorial/repo
jj git clone ~/jj-tutorial/remote ~/jj-tutorial/repo
cd ~/jj-tutorial/repo

# roleplay as Alice
jj config set --repo user.name "Alice"
jj config set --repo user.email "alice@local"
jj metaedit --update-author
</code></pre>
<p>Let's confirm everything went well with <code>jj log</code>:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">y</span><span class="bold highlighted dimgray ">uxnowup</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 20:01:42</span><span class="bold "> </span><span class="bold highlighted blue ">1</span><span class="bold highlighted dimgray ">043cd89</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">w</span><span class="highlighted dimgray ">kywrwmu</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-08-23 20:01:22</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">3</span><span class="highlighted dimgray ">6c08763</span>
‚îÇ  Add submission instructions
~
</pre>
<p>Hmm, we've got two problems here.
Firstly, we are missing the commit with the German and French version of "Hello, world!"
We actually never pushed that commit, so it only exists on Alice's old laptop...
Unfortunately, that's now gone forever.
The only thing we can do now is to recreate it:</p>
<pre><code class="language-sh">echo "print('Hallo, Welt!')" &gt;&gt; hello.py
echo "print('Bonjour, le monde!')" &gt;&gt; hello.py
jj commit -m "Print German and French grettings as well"
</code></pre>
<p>Take that as a reminder to always push your commits!
The remote doesn't work as a backup solution if you forget to push.
We can push this commit directly to the <code>main</code> bookmark:</p>
<pre><code class="language-sh">jj bookmark move main -t @-
jj git push
</code></pre>
<p>The second problem is that we're missing the commit with the loop-experiment.
That one isn't actually lost, because we did push it to the remote (with an auto-generated bookmark).
It's just hidden by default, but we can find it with <code>jj log --revisions 'all()'</code>:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">n</span><span class="bold highlighted dimgray ">kvmznqz</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 21:18:57</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">579e9a8</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">mztslml</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:57</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">a</span><span class="highlighted dimgray ">928e18a</span>
‚îÇ  Print German and French grettings as well
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">vw</span><span class="highlighted dimgray ">kzzxum</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">7</span><span class="highlighted dimgray ">a76ce52</span>
‚îÇ  Add submission instructions
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">zk</span><span class="highlighted dimgray ">wmvzlq</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="purple ">push-zkwmvzlqluot@origin</span> <span class="bold "></span><span class="bold blue ">a7</span><span class="highlighted dimgray ">cd6be9</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>    <span class="bold "></span><span class="bold purple ">pq</span><span class="highlighted dimgray ">oyoror</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">94</span><span class="highlighted dimgray ">608da3</span>
‚îú‚îÄ‚ïÆ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">o</span><span class="highlighted dimgray ">wrwuqyr</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">22</span><span class="highlighted dimgray ">f32788</span>
‚îÇ ‚îÇ  Add Python script for greeting the world
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span> ‚îÇ  <span class="bold "></span><span class="bold purple ">vp</span><span class="highlighted dimgray ">zorutw</span> <span class="yellow ">bob@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">91</span><span class="highlighted dimgray ">48e791</span>
‚îú‚îÄ‚ïØ  Document hello.py in README.md
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">pk</span><span class="highlighted dimgray ">poursq</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">02</span><span class="highlighted dimgray ">f136e2</span>
‚îÇ  Add project description to readme
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">kpkmszl</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">6</span><span class="highlighted dimgray ">6c2503f</span>
‚îÇ  Add readme with project title
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">zz</span><span class="highlighted dimgray ">zzzzzz</span> <span class="green ">root()</span> <span class="bold "></span><span class="bold blue ">00</span><span class="highlighted dimgray ">000000</span>
</pre>
<p>There it is.
The bookmark that points to the loop-experiment commit is displayed as <code>push-zkwmvzlqluot@origin</code>.
But what's up with <code>@origin</code>?
That wasn't there before.</p>
<h2 id="bookmark-tracking"><a class="header" href="#bookmark-tracking">Bookmark tracking</a></h2>
<p>Jujutsu has a concept of bookmarks being <strong>tracked</strong> or <strong>untracked</strong>.
If a bookmark is tracked, Jujutsu will try to keep its local and remote version in sync when you run <code>jj git push</code>.
When you create a new bookmark and push it to the remote, it automatically becomes tracked.
That's why we didn't have to worry about tracking until now.</p>
<p>However, when you clone a repository, only the <code>main</code> bookmark will automatically become tracked.
All other bookmarks that exist on the remote remain untracked by default.
This is useful, because you may be working together with many other people on a project.
You are usually not interested in the work-in-progress of your peers.
Their bookmarks not being tracked by default also prevents you from accidentally pushing your own commits to their bookmarks.</p>
<p>That being said, <code>push-zkwmvzlqluot</code> is not someone else's bookmark, it's Alice's.
She would like the bookmark to be tracked so she can see it by default in the log and so she can update and push it later.
The command to do that is:</p>
<pre><code class="language-sh">jj bookmark track push-zkwmvzlqluot@origin
</code></pre>
<p>Now, a regular <code>jj log</code> will show the bookmark again:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">n</span><span class="bold highlighted dimgray ">kvmznqz</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 21:18:57</span><span class="bold "> </span><span class="bold highlighted blue ">e</span><span class="bold highlighted dimgray ">579e9a8</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">mztslml</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:57</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">a9</span><span class="highlighted dimgray ">28e18a</span>
‚îÇ  Print German and French grettings as well
<span class="highlighted dimgray ">~</span>  <span class="highlighted dimgray ">(elided revisions)</span>
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">z</span><span class="highlighted dimgray ">kwmvzlq</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="purple ">push-zkwmvzlqluot</span> <span class="bold "></span><span class="bold blue ">a7</span><span class="highlighted dimgray ">cd6be9</span>
‚îú‚îÄ‚ïØ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">p</span><span class="highlighted dimgray ">qoyoror</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:18:20</span> <span class="bold "></span><span class="bold blue ">9</span><span class="highlighted dimgray ">4608da3</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="resolving-merge-conflicts"><a class="header" href="#resolving-merge-conflicts">Resolving merge conflicts</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="conflict.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s conflict
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Alice &amp; Bob just attended the next programming lecture.
Among other things, they finally learned about loops in Python.
Alice now wants to go back to her experiment to fix it:</p>
<pre><code class="language-sh">jj new 'description("WIP: Add for loop")'
</code></pre>
<p>Her code currently looks like this:</p>
<pre><code class="language-py">for (i = 0; i &lt; 10; i = i + 1):
    print('Hello, world!')
</code></pre>
<p>This syntax is wrong, so Alice fixes it with the syntax she learned during the lecture:</p>
<pre><code class="language-py">for _ in range(10):
    print('Hello, world!')
</code></pre>
<p>You can edit the file manually or run this command:</p>
<pre><code class="language-sh">echo "for _ in range(10):
    print('Hello, world!')" &gt; hello.py
</code></pre>
<p>Let's commit that correction:</p>
<pre><code class="language-sh">jj commit -m "Fix loop syntax"
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">z</span><span class="bold highlighted dimgray ">zlzryut</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 21:21:54</span><span class="bold "> </span><span class="bold highlighted blue ">5</span><span class="bold highlighted dimgray ">b7e967e</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">o</span><span class="highlighted dimgray ">xnuoryz</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:21:54</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">c</span><span class="highlighted dimgray ">6042124</span>
‚îÇ  Fix loop syntax
‚óã  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">vrzpsvy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:21:53</span> <span class="purple ">push-tvrzpsvypkqk</span> <span class="bold "></span><span class="bold blue ">6</span><span class="highlighted dimgray ">e468237</span>
‚îÇ  WIP: Add for loop (need to fix syntax)
‚îÇ <span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">q</span><span class="highlighted dimgray ">uvtvrzl</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:21:54</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">d</span><span class="highlighted dimgray ">0c3efcd</span>
‚îÇ ‚îÇ  Print German and French greetings as well
‚îÇ <span class="highlighted dimgray ">~</span>  <span class="highlighted dimgray ">(elided revisions)</span>
‚îú‚îÄ‚ïØ
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">k</span><span class="highlighted dimgray ">rymmwqm</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:21:53</span> <span class="bold "></span><span class="bold blue ">1</span><span class="highlighted dimgray ">581674f</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<h2 id="creating-a-conflict"><a class="header" href="#creating-a-conflict">Creating a conflict</a></h2>
<p>Alice now wants to push her new code with the loop to <code>main</code>.
She decides to do so with an explicit merge commit:</p>
<pre><code class="language-sh">jj new main @-
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
Working copy  (@) now at: <span class="bold "></span><span class="bold highlighted purple ">s</span><span class="bold highlighted dimgray ">rpklysn</span><span class="bold "> </span><span class="bold highlighted blue ">0</span><span class="bold highlighted dimgray ">f64cf5a</span><span class="bold "> </span><span class="bold highlighted red ">(conflict)</span><span class="bold "> </span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span>
Parent commit (@-)      : <span class="bold "></span><span class="bold purple ">q</span><span class="highlighted dimgray ">uvtvrzl</span> <span class="bold "></span><span class="bold blue ">d</span><span class="highlighted dimgray ">0c3efcd</span> <span class="purple ">main</span><span class="highlighted dimgray "> | </span>Print German and French greetings as well
Parent commit (@-)      : <span class="bold "></span><span class="bold purple ">o</span><span class="highlighted dimgray ">xnuoryz</span> <span class="bold "></span><span class="bold blue ">c</span><span class="highlighted dimgray ">6042124</span> Fix loop syntax
Added 1 files, modified 2 files, removed 0 files
<span class="bold "></span><span class="bold yellow ">Warning: </span><span class="bold ">There are unresolved conflicts at these paths:</span>
hello.py    <span class="yellow ">2-sided conflict</span>
</pre>
<p>Oh no!
There's a scary red <code>(conflict)</code> marker on the newly created merge commit and a warning telling is about a conflict in the file <code>hello.py</code>.
The conflict can also be seen in the log:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold highlighted red ">@</span>    <span class="bold "></span><span class="bold highlighted purple ">l</span><span class="bold highlighted dimgray ">ozqokkt</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-23 21:34:35</span><span class="bold "> </span><span class="bold highlighted blue ">f</span><span class="bold highlighted dimgray ">e21ff1e</span><span class="bold "> </span><span class="bold highlighted red ">conflict</span><span class="bold "></span>
‚îú‚îÄ‚ïÆ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">o</span><span class="highlighted dimgray ">xnuoryz</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:21:54</span> <span class="bold "></span><span class="bold blue ">c</span><span class="highlighted dimgray ">6042124</span>
‚îÇ ‚îÇ  Fix loop syntax
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">vrzpsvy</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:21:53</span> <span class="purple ">push-tvrzpsvypkqk</span> <span class="bold "></span><span class="bold blue ">6</span><span class="highlighted dimgray ">e468237</span>
‚îÇ ‚îÇ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span> ‚îÇ  <span class="bold "></span><span class="bold purple ">q</span><span class="highlighted dimgray ">uvtvrzl</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:21:54</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">d</span><span class="highlighted dimgray ">0c3efcd</span>
‚îÇ ‚îÇ  Print German and French greetings as well
<span class="highlighted dimgray ">~</span> ‚îÇ  <span class="highlighted dimgray ">(elided revisions)</span>
‚îú‚îÄ‚ïØ
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">k</span><span class="highlighted dimgray ">rymmwqm</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-23 21:21:53</span> <span class="bold "></span><span class="bold blue ">1</span><span class="highlighted dimgray ">581674f</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<p>You may have already guessed how this happened.
One side of the merge, the <code>main</code> branch, changed the file <code>hello.py</code> in one way (adding more languages).
The other side added the loop.
Jujutsu doesn't know how to combine these changes.
This situation is called a <strong>conflict</strong>.</p>
<h2 id="reading-conflict-markers"><a class="header" href="#reading-conflict-markers">Reading conflict markers</a></h2>
<p>Open the file <code>hello.py</code> in a text editor or run <code>cat hello.py</code> to see the content of the conflicted file:</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; Conflict 1 of 1
%%%%%%% Changes from base to side #1
 print('Hello, world!')
+print('Hallo, Welt!')
+print('Bonjour, le monde!')
+++++++ Contents of side #2
for _ in range(10):
    print('Hello, world!')
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Conflict 1 of 1 ends
</code></pre>
<p>Yikes, that looks gnarly.
Let's try to untangle what we're seeing so we can understand the conflict step-by-step.</p>
<p>Focus on the first and last lines:</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; Conflict 1 of 1
...
&gt;&gt;&gt;&gt;&gt;&gt;&gt; Conflict 1 of 1 ends
</code></pre>
<p>These two lines indicate the start and end of a conflict.
In bigger files, it's often the case that most of the file can be merged without conflict.
Only when both sides of a merge modify the same lines does Jujutsu report a conflict.
These chunks of conflicted lines are then manifested as numbered sections, with start and end markers like the above.
In our example, the file is so small that the entire thing is a single conflict.</p>
<p>Next, focus on the first section within the conflict:</p>
<pre><code>%%%%%%% Changes from base to side #1
 print('Hello, world!')
+print('Hallo, Welt!')
+print('Bonjour, le monde!')
</code></pre>
<p>The "heading" of this section says "Changes from base to side #1".
What are "base" and "side #1"?
Think of the "base" as the commit where the two branches of a merge started to fork.
This commit is visible in the log above, it's the one with the description: "Merge code and documentation for hello-world".</p>
<p>The number of the side corresponds to the order in which we specified the commits to be merged.
The merge command was <code>jj new main @-</code>, so "side #1" corresponds to the <code>main</code> branch.</p>
<p>So, this section is showing us the changes that were made to the conflicted lines on the <code>main</code> branch.
The format for showing the changes is the common "diff" format.
In this format, all lines are prefixed with either a space, a minus <code>-</code> or a plus <code>+</code> sign.
The space means the line was not changed.
Minus means the line was removed and plus means the line was added.
A line that was <em>changed</em> is represented as one removed and one added line.</p>
<p>In this case we have one unchanged line (the English greeting) and two added lines (the German and French ones).</p>
<p>Time to look at the second section of the conflict:</p>
<pre><code>+++++++ Contents of side #2
for _ in range(10):
    print('Hello, world!')
</code></pre>
<p>This section is not showing us the "changes from base to side #2", it's just showing us the final state of side #2.
The reason is that the state of base can be inferred from the previous section.</p>
<p>This explanation may have seemed overly verbose.
But merge conflicts can get more complicated than this.
Hopefully you are a little better prepared to face them from now on.</p>
<h2 id="fixing-a-conflict"><a class="header" href="#fixing-a-conflict">Fixing a conflict</a></h2>
<p>Now that we understand the state of each side of the conflict, how do we fix it?
There is <strong>no mechanical solution</strong> here!
If there was, Jujutsu would've done it for you.
The point of a merge conflict is that the correct resolution depends on the meaning of the conflicted changes.</p>
<p>In this case, the conflicted changes are:</p>
<ul>
<li>Print the greeting ten times in a loop.</li>
<li>Also print a German and French greeting.</li>
</ul>
<p>When merging these two changes, should the German and French greetings also be repeated ten times?
If all languages should be repeated, should they be interleaved or neatly separated?</p>
<p>By example, there are three different reasonable merges of these changes:</p>
<ol>
<li>
<p>Only repeat the English greeting:</p>
<pre><code class="language-py">for _ in range(10):
    print('Hello, world!')
print('Hallo, Welt!')
print('Bonjour, le monde!')
</code></pre>
</li>
<li>
<p>Repeat all languages and interleave them:</p>
<pre><code class="language-py">for _ in range(10):
    print('Hello, world!')
    print('Hallo, Welt!')
    print('Bonjour, le monde!')
</code></pre>
</li>
<li>
<p>Repeat all languages but keep them separate:</p>
<pre><code class="language-py">for _ in range(10):
    print('Hello, world!')
for _ in range(10):
    print('Hallo, Welt!')
for _ in range(10):
    print('Bonjour, le monde!')
</code></pre>
</li>
</ol>
<p>I think you get the point.
In order to resolve a merge conflict correctly, you usually have to work your brain a little.</p>
<p>Let's pick the second option as our conflict resolution.
You can edit the conflict markers manually or simply replace the file with this command:</p>
<pre><code class="language-sh">echo "for _ in range(10):
    print('Hello, world!')
    print('Hallo, Welt!')
    print('Bonjour, le monde!')" &gt; hello.py
</code></pre>
<p>Let's check the log to confirm our merge commit is not marked as conflicted anymore:</p>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>    <span class="bold "></span><span class="bold highlighted purple ">kp</span><span class="bold highlighted dimgray ">rnqvtk</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-24 07:41:36</span><span class="bold "> </span><span class="bold highlighted blue ">b4</span><span class="bold highlighted dimgray ">6df36e</span><span class="bold "></span>
‚îú‚îÄ‚ïÆ  <span class="bold "></span><span class="bold yellow ">(no description set)</span><span class="bold "></span>
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">t</span><span class="highlighted dimgray ">tuuwuvl</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-24 07:38:02</span> <span class="bold "></span><span class="bold blue ">c</span><span class="highlighted dimgray ">8479848</span>
‚îÇ ‚îÇ  Fix loop syntax
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">u</span><span class="highlighted dimgray ">xpxzolo</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-24 07:38:01</span> <span class="purple ">push-uxpxzoloznts</span> <span class="bold "></span><span class="bold blue ">b3</span><span class="highlighted dimgray ">26e556</span>
‚îÇ ‚îÇ  WIP: Add for loop (need to fix syntax)
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span> ‚îÇ  <span class="bold "></span><span class="bold purple ">w</span><span class="highlighted dimgray ">ruksqvz</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-24 07:38:02</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">1</span><span class="highlighted dimgray ">18457e4</span>
‚îÇ ‚îÇ  Print German and French greetings as well
<span class="highlighted dimgray ">~</span> ‚îÇ  <span class="highlighted dimgray ">(elided revisions)</span>
‚îú‚îÄ‚ïØ
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">kr</span><span class="highlighted dimgray ">opmvym</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-24 07:38:01</span> <span class="bold "></span><span class="bold blue ">8</span><span class="highlighted dimgray ">c90e9fc</span>
‚îÇ  <span class="green ">(empty)</span> Merge code and documentation for hello-world
~
</pre>
<p>Fantastic!
A conflict resolution is considered a change itself, so the commit isn't marked as "(empty)" like the first merge commit we made.
Let's commit this and push to main:</p>
<pre><code class="language-sh">jj commit -m "Merge repetition and translation of greeting"
jj bookmark move main --to @-
jj git push
</code></pre>
<div id="admonition-conflicts-during-a-rebase" class="admonition admonish-info" role="note" aria-labelledby="admonition-conflicts-during-a-rebase-title">
<div class="admonition-title">
<div id="admonition-conflicts-during-a-rebase-title">
<p>Conflicts during a rebase</p>
</div>
<a class="admonition-anchor-link" href="conflict.html#admonition-conflicts-during-a-rebase"></a>
</div>
<div>
<p>Conflicts can also occur when doing a rebase.
Those are slightly more difficult to solve though.
We will learn about it in the next level.
If you run into a conflict while doing a rebase, consider aborting for now (with <code>jj undo</code>) and creating a merge commit instead.</p>
</div>
</div>
<details id="admonition-tools-that-help-with-conflict-resolution" class="admonition admonish-note" role="note" aria-labelledby="admonition-tools-that-help-with-conflict-resolution-title">
<summary class="admonition-title">
<div id="admonition-tools-that-help-with-conflict-resolution-title">
<p>Tools that help with conflict resolution</p>
</div>
<a class="admonition-anchor-link" href="conflict.html#admonition-tools-that-help-with-conflict-resolution"></a>
</summary>
<div>
<p>What I've taught you above is to solve the conflict manually by replacing the conflict markers with the desired outcome.
That manual approach will always work.
Conflicts can be tedious to solve manually, though.</p>
<p>There are various tools that can help you solve conflicts in certain situations.
For example, the built-in tools <code>:ours</code> and <code>:theirs</code> let you discard one side of the conflict and only keep the other.
Which side of the conflict is "ours" and which one is "theirs" may not be obvious.
Just try one and run <code>jj undo</code> if needed.
For example:</p>
<pre><code class="language-sh"># keep "our" changes, throw away "theirs"
jj resolve --tool :ours
</code></pre>
<p>In addition to these simple built-in tools, Jujutsu can call more powerful, external ones.
One such example is <a href="https://mergiraf.org/">Mergiraf</a>.
It tries to automatically fix a conflict based on the <strong>syntax tree</strong> of the programming language of the conflicted file.
Jujutsu doesn't ship with Mergiraf though, you have to install it separately if you want to use it.
Once that's done, use it like this:</p>
<pre><code class="language-sh">jj resolve --tool mergiraf
</code></pre>
<p>That works because Jujutsu has a default tool configuration for how to call Mergiraf.
There are likely other tools that Jujutsu doesn't know about.
If you want to use one of those, you can add a custom <a href="https://jj-vcs.github.io/jj/latest/config/#3-way-merge-tools-for-conflict-resolution">merge tool configuration</a>.</p>
</div>
</details>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deleting-commits-and-bookmarks"><a class="header" href="#deleting-commits-and-bookmarks">Deleting commits and bookmarks</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="abandon.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s abandon
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Remeber the for-loop experiment Alice had put aside for a while?
Jujutsu lets you keep as many of those experiments around as you like.
Let's simulate a few with these commands:</p>
<pre><code class="language-sh">jj commit -m "Experiment: Migrate to shiny new framework"
jj git push --change @-
jj new main
jj commit -m "Experiment: Improve scalability using microservices"
jj git push --change @-
jj new main
jj commit -m "Experiment: Apply SOLID design patterns"
jj git push --change @-
jj new main
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">v</span><span class="bold highlighted dimgray ">qytywws</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-31 14:29:56</span><span class="bold "> </span><span class="bold highlighted blue ">9</span><span class="bold highlighted dimgray ">bdb2d1d</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">o</span><span class="highlighted dimgray ">qsqtxwo</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-31 14:29:56</span> <span class="purple ">push-oqsqtxwowvuw</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">ffeb883</span>
‚îú‚îÄ‚ïØ  <span class="green ">(empty)</span> Experiment: Apply SOLID design patterns
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">l</span><span class="highlighted dimgray ">qpnzsmz</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-31 14:29:56</span> <span class="purple ">push-lqpnzsmzkxry</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">4cf1d7f</span>
‚îú‚îÄ‚ïØ  <span class="green ">(empty)</span> Experiment: Improve scalability using microservices
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">ppuwxxp</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-31 14:29:56</span> <span class="purple ">push-rppuwxxpnkqu</span> <span class="bold "></span><span class="bold blue ">8</span><span class="highlighted dimgray ">c44777f</span>
‚îú‚îÄ‚ïØ  <span class="green ">(empty)</span> Experiment: Migrate to shiny new framework
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">nnoxnvq</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-31 14:29:56</span> <span class="purple ">main</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">3</span><span class="highlighted dimgray ">46c0acd</span>
‚îÇ  Merge repetition and translation of greeting
~
</pre>
<p>After a lengthy debate with Bob, Alice must admit that none of these experiments are good ideas.
She decides to delete the commits and bookmarks.</p>
<p>The jj command to do that is <code>jj abandon &lt;change-id&gt;</code>.
You can simply call this command three times with the change ID of each experimental commit.
You can also copy-paste the following command, which deletes them all at once:</p>
<pre><code class="language-sh">jj abandon 'description("Experiment")'
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
Abandoned 3 commits:
  <span class="bold "></span><span class="bold purple ">o</span><span class="highlighted dimgray ">qsqtxwo</span> <span class="bold "></span><span class="bold blue ">2</span><span class="highlighted dimgray ">ffeb883</span> <span class="purple ">push-oqsqtxwowvuw</span><span class="highlighted dimgray "> | </span><span class="green ">(empty)</span> Experiment: Apply SOLID design patterns
  <span class="bold "></span><span class="bold purple ">l</span><span class="highlighted dimgray ">qpnzsmz</span> <span class="bold "></span><span class="bold blue ">f</span><span class="highlighted dimgray ">4cf1d7f</span> <span class="purple ">push-lqpnzsmzkxry</span><span class="highlighted dimgray "> | </span><span class="green ">(empty)</span> Experiment: Improve scalability using microservices
  <span class="bold "></span><span class="bold purple ">r</span><span class="highlighted dimgray ">ppuwxxp</span> <span class="bold "></span><span class="bold blue ">8</span><span class="highlighted dimgray ">c44777f</span> <span class="purple ">push-rppuwxxpnkqu</span><span class="highlighted dimgray "> | </span><span class="green ">(empty)</span> Experiment: Migrate to shiny new framework
Deleted bookmarks: push-lqpnzsmzkxry, push-oqsqtxwowvuw, push-rppuwxxpnkqu
<span class="bold "></span><span class="bold cyan ">Hint: </span>Deleted bookmarks can be pushed by name or all at once with `jj git push --deleted`.
</pre>
<p>The output from <code>jj abandon</code> tells us that all three commits were deleted, including the bookmarks that were pointing to them.
Jujutsu assumes that if you want to delete a commit, you probably don't need the bookmark pointing to it anymore either.
If you actually want to keep it, move the bookmark to a commit you're planning to preserve before running <code>jj abandon</code>.</p>
<p>That being said, the bookmarks are only deleted locally.
Just like new or moved bookmarks, deleted ones have to be synchronized explicitly.
This makes it easier to fix mistakes.
If you accidentally delete a bookmark locally, you can <code>jj undo</code> that without issues.
If you deleted it on the remote already, restoring it takes a bit more effort.
Let's sync the deleted bookmarks with the remote:</p>
<pre><code class="language-sh">jj git push --deleted
</code></pre>
<details id="admonition-duplicate-commits-when-using-git-directly" class="admonition admonish-note" role="note" aria-labelledby="admonition-duplicate-commits-when-using-git-directly-title">
<summary class="admonition-title">
<div id="admonition-duplicate-commits-when-using-git-directly-title">
<p>Duplicate commits when using Git directly</p>
</div>
<a class="admonition-anchor-link" href="abandon.html#admonition-duplicate-commits-when-using-git-directly"></a>
</summary>
<div>
<p>We've talked about how Jujutsu is compatible with Git.
It creates a <code>.git</code> directory in your repo that looks like it was made and managed by Git itself.
This lets other tools that interoperate with Git work seamlessly.</p>
<p>As a rule of thumb, this interoperability work flawlessly if other tools <strong>only read</strong> the <code>.git</code> directory.
However, there can be slight issues if they modify it as well.
The fix is usually simple, but it helps to have an intuition of what can go wrong.</p>
<p>Let's make a simple example.
The following commands add some file to Jujutsu's working copy commit.
Afterwards, a new commit is created with Git itself.
Running <code>jj log</code> shows a branched-off commit that seems out of place.</p>
<pre><code class="language-sh">touch some_file
jj status # record new file into working copy
git commit -am "add some file" # create commit with git, bypassing jj
jj log
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold green ">@</span>  <span class="bold "></span><span class="bold highlighted purple ">n</span><span class="bold highlighted dimgray ">wstlotv</span><span class="bold "> </span><span class="bold yellow ">alice@local</span><span class="bold "> </span><span class="bold highlighted cyan ">2025-08-31 14:44:23</span><span class="bold "> </span><span class="bold highlighted blue ">9</span><span class="bold highlighted dimgray ">28b48f4</span><span class="bold "></span>
‚îÇ  <span class="bold "></span><span class="bold highlighted green ">(empty)</span><span class="bold "> </span><span class="bold highlighted green ">(no description set)</span><span class="bold "></span>
‚óã  <span class="bold "></span><span class="bold purple ">y</span><span class="highlighted dimgray ">qyzyzzo</span> <span class="yellow ">remo@buenzli.dev</span> <span class="cyan ">2025-08-31 14:44:22</span> <span class="green ">git_head()</span> <span class="bold "></span><span class="bold blue ">30</span><span class="highlighted dimgray ">e0eec4</span>
‚îÇ  add some file
‚îÇ ‚óã  <span class="bold "></span><span class="bold purple ">v</span><span class="highlighted dimgray ">qytywws</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-31 14:44:05</span> <span class="bold "></span><span class="bold blue ">7</span><span class="highlighted dimgray ">0588b87</span>
‚îú‚îÄ‚ïØ  <span class="yellow ">(no description set)</span>
<span class="bold "></span><span class="bold highlighted cyan ">‚óÜ</span>  <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">nnoxnvq</span> <span class="yellow ">alice@local</span> <span class="cyan ">2025-08-31 14:29:56</span> <span class="purple ">main</span> <span class="bold "></span><span class="bold blue ">34</span><span class="highlighted dimgray ">6c0acd</span>
‚îÇ  Merge repetition and translation of greeting
~
</pre>
<p>This branched-off commit is actually the previous working copy commit of Jujutsu.
Jujutsu doesn't know that the commit created with Git is basically the same.
(If you <code>jj show</code> both commits, you'll see that they contain the same file changes.)</p>
<p>The solution here is simply to <code>jj abandon</code> the dangling commit, since it's a duplicate.
Probably 99% of problems caused by different tools modifying the Git database are just like this.
The next time you run Jujutsu, it will find new commits it doesn't know what to do with, so it keeps all of them.
You then have to delete the ones you don't need.</p>
<p>Let's clean up this whole tangent:</p>
<pre><code class="language-sh">jj abandon main+ # abandon direct children of main
</code></pre>
</div>
</details>
<h2 id="immutability"><a class="header" href="#immutability">Immutability</a></h2>
<p>This is a good place to talk about mutable and immutable commits.
<code>jj abandon</code> is a command that modifies the commit history.
A commit represents something that happened.
By deleting a commit, you're basically saying "Nu-uh, that didn't happen."
Learning about <code>jj rebase</code> was the first time we rewrote history, remember?
Or did you <code>jj abandon</code> that memory, hihi?</p>
<p>Rewriting history is often a perfectly normal and logical thing to do.
But it can be dangerous!
For example, imagine what would happen if Alice rewrote commits on the <code>main</code> branch.
That would be very confusing for Bob!
It would be equally confusing for Bob if Alice rewrote commits pointed to by Bob's bookmarks.
There are various complicated problems Alice and Bob can run into like this.</p>
<p>To avoid these problems, people who collaborate using version control systems usually follow a simple rule of thumb:</p>
<p><strong>Never rewrite history on shared branches.</strong></p>
<p>Usually that's just the <code>main</code> branch, but there can be more, depending on the project.</p>
<p>On personal branches, things are usually more relaxed.
Alice should expect Bob to rewrite history freely on his own branches.
In return, she gets to rewrite history on hers.
If you need to rely on the history of someone else's branch to remain stable, you should probably talk to them about that.</p>
<p>Now for the great news:
<strong>Jujutsu enforces these rules by default!</strong>
That way, you don't have to worry about them most of the time.
Try deleting the latest commit on the <code>main</code> branch:</p>
<pre><code class="language-sh">jj abandon main
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
<span class="bold "></span><span class="bold red ">Error: </span><span class="bold ">Commit 346c0acd36db is immutable</span>
<span class="bold "></span><span class="bold cyan ">Hint: </span>Could not modify commit: <span class="bold "></span><span class="bold purple ">s</span><span class="highlighted dimgray ">nnoxnvq</span> <span class="bold "></span><span class="bold blue ">34</span><span class="highlighted dimgray ">6c0acd</span> <span class="purple ">main</span><span class="highlighted dimgray "> | </span>Merge repetition and translation of greeting
<span class="bold "></span><span class="bold cyan ">Hint: </span>Immutable commits are used to protect shared history.
<span class="bold "></span><span class="bold cyan ">Hint: </span>For more information, see:
      - https://jj-vcs.github.io/jj/latest/config/#set-of-immutable-commits
      - `jj help -k config`, &quot;Set of immutable commits&quot;
<span class="bold "></span><span class="bold cyan ">Hint: </span>This operation would rewrite 1 immutable commits.
</pre>
<p>So we are protected from accidentally deleting stuff on the <code>main</code> branch.
Protected commits are called <strong>immutable</strong> and Jujutsu represents them in the log graph with a <strong>diamond</strong> (<strong><code>‚óÜ</code></strong>) symbol.
Unprotected commits are called <strong>mutable</strong> and represented with a <strong>circle</strong> (<strong><code>‚óã</code></strong>).
These protections don't just apply to <code>jj abandon</code> and <code>jj rebase</code>, but to all commands that edit existing history.
We'll learn about a lot of commands like that in the next level.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="restoring-file-contents"><a class="header" href="#restoring-file-contents">Restoring file contents</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="restore.html#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s restore
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Let's say Alice accidentally deleted the project's <code>README.md</code> file.
After that, she made more changes before realizing her mistake:</p>
<pre><code class="language-sh">rm README.md
echo "    print('In soviet Russia, world greets you!')" &gt;&gt; hello.py
jj show
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">79cda7b43c273bb0597b7888b2ff9d3afee4a568</span>
Change ID: <span class="purple ">nwstlotvuwrnxrupxnplywqvkloupnxu</span>
Author   : <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:15:13</span>)
Committer: <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:15:13</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Removed regular file README.md:</span>
<span class="red ">   1</span>     : <span class="red "># jj-tutorial</span>
<span class="red ">   2</span>     : <span class="red "></span>
<span class="red ">   3</span>     : <span class="red ">The file hello.py contains a script that greets the world.</span>
<span class="red ">   4</span>     : <span class="red ">It can be executed with the command 'python hello.py'.</span>
<span class="red ">   5</span>     : <span class="red ">Programming is fun!</span>
<span class="red ">   6</span>     : <span class="red "></span>
<span class="red ">   7</span>     : <span class="red ">## Submission</span>
<span class="red ">   8</span>     : <span class="red "></span>
<span class="red ">   9</span>     : <span class="red ">Run the following command to create the submission tarball:</span>
<span class="red ">  10</span>     : <span class="red "></span>
<span class="red ">  11</span>     : <span class="red ">~~~sh</span>
<span class="red ">  12</span>     : <span class="red ">tar czf submission_alice_bob.tar.gz [FILE...]</span>
<span class="red ">  13</span>     : <span class="red ">~~~</span>
<span class="yellow ">Modified regular file hello.py:</span>
<span class="red ">   1</span> <span class="green ">   1</span>: for _ in range(10):
<span class="red ">   2</span> <span class="green ">   2</span>:     print('Hello, world!')
<span class="red ">   3</span> <span class="green ">   3</span>:     print('Hallo, Welt!')
<span class="red ">   4</span> <span class="green ">   4</span>:     print('Bonjour, le monde!')
     <span class="green ">   5</span>: <span class="green ">    print('In soviet Russia, world greets you!')</span>
</pre>
<p>The tools we've learned about so far don't really help in this situation.
Alice could <code>jj undo</code> the last snapshot, but that would undo her changes to <code>hello.py</code> as well.
The same goes for <code>jj abandon</code>.
Luckily, there's a better way:</p>
<pre><code class="language-sh">jj restore README.md
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">f2922ddd5ad552e1e499b461b8ed900d047cea91</span>
Change ID: <span class="purple ">nwstlotvuwrnxrupxnplywqvkloupnxu</span>
Author   : <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:15:13</span>)
Committer: <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:24:18</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Modified regular file hello.py:</span>
<span class="red ">   1</span> <span class="green ">   1</span>: for _ in range(10):
<span class="red ">   2</span> <span class="green ">   2</span>:     print('Hello, world!')
<span class="red ">   3</span> <span class="green ">   3</span>:     print('Hallo, Welt!')
<span class="red ">   4</span> <span class="green ">   4</span>:     print('Bonjour, le monde!')
     <span class="green ">   5</span>: <span class="green ">    print('In soviet Russia, world greets you!')</span>
</pre>
<p>Perfect, that's just what we wanted!
<code>jj restore</code> on its own restores all changed files in your working copy commit.
However, if you give it the names of specific files as additional arguments, it will only restore those.</p>
<p>That's not all though, <code>jj restore</code> can do more than that.</p>
<p>We've learned a lot about how to <em>create</em> commits, but not much about what you can do with them.
We can look at the state of our repository at a given commit by running <code>jj new &lt;change-id&gt;</code>, but that's about it.</p>
<p><code>jj restore</code> can not only restore files to their state in the parent of the working copy commit.
It can restore them to their state in <strong>any commit</strong>.
You can use the <code>--from</code> flag to specify which commit to restore from.</p>
<p>For example, let's restore <code>hello.py</code> to the state where it had a functioning loop, but no translations:</p>
<pre><code class="language-sh">jj restore --from 'description("Fix loop syntax")' hello.py
</code></pre>
<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">c72f36748528f6893316089590374efed90a4214</span>
Change ID: <span class="purple ">nwstlotvuwrnxrupxnplywqvkloupnxu</span>
Author   : <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:15:13</span>)
Committer: <span class="yellow ">Alice</span> &lt;<span class="yellow ">alice@local</span>&gt; (<span class="cyan ">2025-08-31 16:43:32</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Modified regular file hello.py:</span>
<span class="red ">   1</span> <span class="green ">   1</span>: for _ in range(10):
<span class="red ">   2</span> <span class="green ">   2</span>:     print('Hello, world!')
<span class="red ">   3</span>     : <span class="red ">    print('Hallo, Welt!')</span>
<span class="red ">   4</span>     : <span class="red ">    print('Bonjour, le monde!')</span>
</pre>
<p>Fascinating!
As always when we're done with a task, we should remember to push to the remote.</p>
<pre><code class="language-sh">jj commit -m "Remove translations"
jj bookmark move main --to @-
jj git push
</code></pre>
<div id="admonition-youve-completed-level-3--" class="admonition admonish-success" role="note" aria-labelledby="admonition-youve-completed-level-3---title">
<div class="admonition-title">
<div id="admonition-youve-completed-level-3---title">
<p>You've completed Level 3 ! üéâ</p>
</div>
<a class="admonition-anchor-link" href="restore.html#admonition-youve-completed-level-3--"></a>
</div>
<div>
<p>Now you have the skills to get yourself out of most problems that can come up when working with version control.
Let's summarize what we've learned:</p>
<ul>
<li><code>jj undo</code> can restore previous states of your entire repository step-by-step.
Don't worry about making mistakes!
Experiment freely and <code>jj undo</code> if anything goes wrong.</li>
<li>If you want to work on a bookmark that only exists on the remote, for example after making a fresh clone of your repo, run <code>jj bookmark track</code>.</li>
<li>Combining two branches can lead to conflicts if they change the same part of a file.
Resolve such conflicts by carefully removing the conflict markers to produce a sensible result.</li>
<li>If you end up with commits you no longer need for whatever reason, deleted them with <code>jj abandon</code>.</li>
<li>You can restore the content of a file using <code>jj restore</code>.
By default, it restores to the parent of your working copy, but you can specify any commit to restore from with the <code>--from</code> flag.</li>
</ul>
<p>Now you know pretty much everything you need.
You should be productive and rarely get stuck.
Some readers may decide to stop reading the tutorial here.</p>
<p>For those who want more, the next level will teach you how to rewrite history effortlessly.
This skill will allow you to produce a much better commit history.
Some projects like the Linux kernel or Jujutsu itself require their contributors to know these skills.
Without them, they cannot meet the projects quality standards.</p>
<p>Aside from that, being able to rewrite history is simply freeing.
You'll worry less about how to separate your changes into neat commits and what description to give them, because you can easily change these things later.</p>
<p>Nevertheless, feel free to take a long break before coming back to that.
You have learned a lot so far and it will be beneficial to have mastered that with practice before continuing.</p>
<p>At this point, you should also start to explore the Jujutsu CLI a little bit on your own.
This tutorial is not a comprehensive reference of everything Jujutsu has to offer.
Would you like to display all commits made by a specific author?
Run <code>jj log --help</code> to find out how.
Would you like to tweak the behavior of Jujutsu in some way?
Maybe the <a href="https://jj-vcs.github.io/jj/latest/config/">configuration guide</a> can help you out.</p>
</div>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="must-know-secret-commands"><a class="header" href="#must-know-secret-commands">Must-know secret commands</a></h1>
<p>Hah, did I get you with the clickbait title? :-P</p>
<p>Sorry, that's all I have for you at the moment.
Remember, there's an <a href="introduction.html#how-to-read-this-tutorial">overview of planned levels</a> in the introdution.
If any of the future content sounds interesting to you, consider <a href="watch_releases.html">subscribing to releases</a> on GitHub.
That way I can notify you without knowing your email.
I will also notify subscribers if a new release of Jujutsu changes something that's relevant to the content of this tutorial.</p>
<p>I hope you learned some valuable skills in this tutorial.
I always appreciate hearing your feedback, suggestions, experience reports and frustrated rants!
Just <a href="https://github.com/jj-for-everyone/jj-for-everyone.github.io/issues/new">post an issue</a> on GitHub.
Thanks! ‚ù§Ô∏è</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
