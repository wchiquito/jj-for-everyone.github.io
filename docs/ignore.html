<!DOCTYPE HTML>
<html lang="en" class="latte sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Excluding files from version control - Jujutsu for everyone</title>


        <!-- Custom HTML head -->

        <meta name="description" content="A Jujutsu tutorial that requires no previous experience with Git or other version control systems.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/mdbook-admonish.css">
        <link rel="stylesheet" href="theme/catppuccin.css">
        <link rel="stylesheet" href="theme/catppuccin-admonish.css">
        <link rel="stylesheet" href="theme/aha_styles.css">
        <link rel="stylesheet" href="theme/mdbook-admonish-custom.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "latte";
            const default_dark_theme = "macchiato";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('latte')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frappe</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jujutsu for everyone</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/jj-for-everyone/jj-for-everyone.github.io" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/jj-for-everyone/jj-for-everyone.github.io/edit/main/src/ignore.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="excluding-files-from-version-control"><a class="header" href="#excluding-files-from-version-control">Excluding files from version control</a></h1>
<details id="admonition-reset-your-progress" class="admonition admonish-reset" role="note" aria-labelledby="admonition-reset-your-progress-title">
<summary class="admonition-title">
<div id="admonition-reset-your-progress-title">
<p>Reset your progress</p>
</div>
<a class="admonition-anchor-link" href="#admonition-reset-your-progress"></a>
</summary>
<div>
<p>To reset your progress to the start of this chapter, run the following command:</p>
<pre><code class="language-sh">curl https://jj-for-everyone.github.io/reset.sh | bash -s ignore
cd ~/jj-tutorial/repo
</code></pre>
</div>
</details>
<p>Let's check up on Bob:</p>
<pre><code class="language-sh">cd ~/jj-tutorial/repo-bob
</code></pre>
<p>Done with his part of the assignment, he's already thinking about the submission.
The teacher expects to receive a tarball called <code>submission_alice_bob.tar.gz</code>.
After a little <a href="https://xkcd.com/1168/">trial and error</a>, he comes up with the following command to create the tarball:</p>
<pre><code class="language-sh">tar czf submission_alice_bob.tar.gz README.md
</code></pre>
<p>(Go ahead and run it!)</p>
<p>Bob wants to spare Alice the hassle of having to figure that out, in case she ends up making the final submission.
He decides to add it to the documentation:</p>
<pre><code class="language-sh">echo "
## Submission

Run the following command to create the submission tarball:

~~~sh
tar czf submission_alice_bob.tar.gz [FILE...]
~~~" &gt;&gt; README.md
</code></pre>
<p>Bob is careful to push only clean commits to the remote shared with Alice.
(Be like Bob!)
He double-checks the content of his commit with <code>jj show</code>:</p>
<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">596961f1e4aaa66f50b918902efbc839122184f4</span>
Change ID: <span class="purple ">vtkxsvmtporzvtpovlpqvytrpzxyuykn</span>
Author   : <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:40</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:59</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Modified regular file README.md:</span>
    ...
<span class="red ">   3</span> <span class="green ">   3</span>: The file hello.py contains a script that greets the world.
<span class="red ">   4</span> <span class="green ">   4</span>: It can be executed with the command 'python hello.py'.
<span class="red ">   5</span> <span class="green ">   5</span>: Programming is fun!
     <span class="green ">   6</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   7</span>: <span class="underline "></span><span class="underline green ">## Submission</span><span class="green "></span>
     <span class="green ">   8</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   9</span>: <span class="underline "></span><span class="underline green ">Run the following command to create the submission tarball:</span><span class="green "></span>
     <span class="green ">  10</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">  11</span>: <span class="underline "></span><span class="underline green ">~~~sh</span><span class="green "></span>
     <span class="green ">  12</span>: <span class="underline "></span><span class="underline green ">tar czf submission_alice_bob.tar.gz [FILE...]</span><span class="green "></span>
     <span class="green ">  13</span>: <span class="underline "></span><span class="underline green ">~~~</span><span class="green "></span>
<span class="yellow ">Added regular file submission_alice_bob.tar.gz:</span>
<span class="cyan ">    (binary)</span>
</pre>
<p>Oh no!
It looks like the result of Bob's research was recorded in the commit.
The tarball <code>submission_alice_bob.tar.gz</code> has no business being tracked in version control.</p>
<p>By default, Jujutsu records every single file in the project into your working copy, which is usually what you want.
But sometimes, you need to tell Jujutsu to ignore certain files and exclude them from being recorded.
For this purpose, Jujutsu reads a special <code>.gitignore</code> file if it exists in the project.
This file can contain a list of file names, directories, and patterns which describe the set of files that should not be tracked in version control.</p>
<p>To fix the problem, Bob adds a pattern for tarballs to the <code>.gitignore</code> file:</p>
<pre><code class="language-sh">echo "*.tar.gz" &gt; .gitignore
</code></pre>
<p>The star <code>*</code> symbol is a special <a href="https://en.wikipedia.org/wiki/Glob_(programming)">glob</a> character which can expand to match any filename, including <code>submission_alice_bob</code>.
Adding only the precise filename <code>submission_alice_bob.tar.gz</code> to the <code>.gitignore</code> file would've worked as well, but the above pattern takes care of <em>any</em> tarball.</p>
<details id="admonition-ignoring-files-globally" class="admonition admonish-info" role="note" aria-labelledby="admonition-ignoring-files-globally-title">
<summary class="admonition-title">
<div id="admonition-ignoring-files-globally-title">
<p>Ignoring files globally</p>
</div>
<a class="admonition-anchor-link" href="#admonition-ignoring-files-globally"></a>
</summary>
<div>
<p>Sometimes you might have the same files lying around in several projects that are only intended for your personal use.
In that case, it makes sense to ignore these files globally, not just for a specific project.
It would be a little tedious to add personal files to the <code>.gitignore</code> of every single project you work on.</p>
<p>One such example is relevant for macOS users:
The Finder application stores hidden files called <code>.DS_Store</code> in directories opened with it.
These files can end up anywhere and basically never belong in version control.
If you're a macOS user, consider adding <code>.DS_Store</code> to your global <code>.gitignore</code> file:</p>
<pre><code class="language-sh">echo ".DS_Store" &gt;&gt; ~/.gitignore
</code></pre>
</div>
</details>
<p>Let's check the commit content again:</p>
<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">c9bc30b48922c767c553392709f212b8c0815ceb</span>
Change ID: <span class="purple ">vtkxsvmtporzvtpovlpqvytrpzxyuykn</span>
Author   : <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:40</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:41:13</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Added regular file .gitignore:</span>
     <span class="green ">   1</span>: <span class="underline "></span><span class="underline green ">*.tar.gz</span><span class="green "></span>
<span class="yellow ">Modified regular file README.md:</span>
    ...
<span class="red ">   3</span> <span class="green ">   3</span>: The file hello.py contains a script that greets the world.
<span class="red ">   4</span> <span class="green ">   4</span>: It can be executed with the command 'python hello.py'.
<span class="red ">   5</span> <span class="green ">   5</span>: Programming is fun!
     <span class="green ">   6</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   7</span>: <span class="underline "></span><span class="underline green ">## Submission</span><span class="green "></span>
     <span class="green ">   8</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   9</span>: <span class="underline "></span><span class="underline green ">Run the following command to create the submission tarball:</span><span class="green "></span>
     <span class="green ">  10</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">  11</span>: <span class="underline "></span><span class="underline green ">~~~sh</span><span class="green "></span>
     <span class="green ">  12</span>: <span class="underline "></span><span class="underline green ">tar czf submission_alice_bob.tar.gz [FILE...]</span><span class="green "></span>
     <span class="green ">  13</span>: <span class="underline "></span><span class="underline green ">~~~</span><span class="green "></span>
<span class="yellow ">Added regular file submission_alice_bob.tar.gz:</span>
<span class="cyan ">    (binary)</span>
</pre>
<p>Hmm... the <code>.gitignore</code> file has joined the party, but the tarball is <em>still</em> recorded in the commit.
The reason is that Jujutsu only considers <code>.gitignore</code> for files it hasn't already started tracking.
Since Bob added the <code>.gitignore</code> after the unwelcome file started being tracked, it had no effect.
Luckily, Jujutsu has a command to make it stop tracking already-tracked files:</p>
<pre><code class="language-sh">jj file untrack submission_alice_bob.tar.gz
</code></pre>
<p>The <code>untrack</code> command only works if the file to untrack is already present in <code>.gitignore</code>.
Otherwise, Jujutsu would immediately start tracking the file again just after untracking it.
Note that you can also ignore and untrack entire directories at once.</p>
<p>Let's check the commit content one more time:</p>
<!-- generated by aha script -->
<pre class="aha">
Commit ID: <span class="blue ">0f0015beb53d8c83f3bbcfe938a9bf031834c3e4</span>
Change ID: <span class="purple ">vtkxsvmtporzvtpovlpqvytrpzxyuykn</span>
Author   : <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:38:40</span>)
Committer: <span class="yellow ">Bob</span> &lt;<span class="yellow ">bob@local</span>&gt; (<span class="cyan ">2025-08-04 20:41:36</span>)

<span class="yellow ">    (no description set)</span>

<span class="yellow ">Added regular file .gitignore:</span>
     <span class="green ">   1</span>: <span class="underline "></span><span class="underline green ">*.tar.gz</span><span class="green "></span>
<span class="yellow ">Modified regular file README.md:</span>
    ...
<span class="red ">   3</span> <span class="green ">   3</span>: The file hello.py contains a script that greets the world.
<span class="red ">   4</span> <span class="green ">   4</span>: It can be executed with the command 'python hello.py'.
<span class="red ">   5</span> <span class="green ">   5</span>: Programming is fun!
     <span class="green ">   6</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   7</span>: <span class="underline "></span><span class="underline green ">## Submission</span><span class="green "></span>
     <span class="green ">   8</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">   9</span>: <span class="underline "></span><span class="underline green ">Run the following command to create the submission tarball:</span><span class="green "></span>
     <span class="green ">  10</span>: <span class="underline "></span><span class="underline green "></span><span class="green "></span>
     <span class="green ">  11</span>: <span class="underline "></span><span class="underline green ">~~~sh</span><span class="green "></span>
     <span class="green ">  12</span>: <span class="underline "></span><span class="underline green ">tar czf submission_alice_bob.tar.gz [FILE...]</span><span class="green "></span>
     <span class="green ">  13</span>: <span class="underline "></span><span class="underline green ">~~~</span><span class="green "></span>
</pre>
<p>Yay!
This commit looks nice and tidy, let's finish it with a description:</p>
<pre><code class="language-sh">jj commit -m "Add submission instructions"
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="merge.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="rebase.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="merge.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="rebase.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
